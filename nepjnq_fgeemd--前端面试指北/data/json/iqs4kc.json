{
  "body_html": "<!doctype html><div class=\"lake-content-editor-core lake-engine lake-typography-classic\" data-lake-element=\"root\" data-selection-undefined=\"%7B%22path%22%3A%5B%5B75%2C0%5D%2C%5B75%2C0%5D%5D%2C%22active%22%3Atrue%7D\"><h3 data-lake-id=\"15554a1615d87918bebf87918d53e079\" id=\"MxOzs\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 20px; line-height: 28px;\">浏览器</h3><p data-lake-id=\"206d6b93a9b139194704d1dadb479ec2\" style=\"text-align: center; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/png/670787/1605417503117-60c330be-8b4c-4de5-9d93-b070d70e078c.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"image\" title=\"image\" data-height=\"235px\" style=\"visibility: visible; width: 347px;\"></span></p><p data-lake-id=\"2efdf4a82e31b88da76791e90c983cd3\" style=\"text-align: left; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><p data-lake-id=\"f751e1f3df13d330cd46013d740dd8b4\" style=\"text-align: left; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">现代浏览器通常由7部分构成：</p><ol data-lake-id=\"a764ceea1ee3ecb20ea831992f2a1ac8\" lake-indent=\"0\" style=\"list-style-type: decimal; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"86d9ccbd6f9e94883c3870b0b7f2ee0f\"><strong>用户界面</strong> ： 地址栏、前进/后退按钮、书签菜单等。除浏览器主窗口显示的页面外，其他各个部分都属于UI。</li><li data-lake-id=\"38b6145964adbfaa6fff618e8ce9b8bc\"><strong>浏览器引擎</strong> ： 在用户界面和渲染引擎之间传送指令。</li><li data-lake-id=\"29edb7f14a55f2d2b851cdf55402b7ae\"><strong>渲染引擎</strong> ：负责显示请求的内容。如果请求的内容是 HTML，它就负责解析 HTML 和 CSS 内容，并将解析后的内容显示在屏幕上。</li><li data-lake-id=\"d1542b472c2d72cbba097febe0aa777f\"><strong>网络</strong> ：用于网络调用，比如 HTTP 请求。其接口与平台无关，并为所有平台提供底层实现。</li><li data-lake-id=\"e79b87caa59b0ad099579c2eb4cfe67d\"><strong>用户界面后端</strong> ：绘制基本的窗口小部件，比如组合框和窗口。提供平台无关的API，在底层使用操作系统的UI方法。</li><li data-lake-id=\"98bc82834fc0a3a717d433eec2fcd7d7\"><strong>JavaScript 解释器（JS引擎）</strong>：用于解析和执行 JavaScript 代码。</li><li data-lake-id=\"1ef6d4d95aabf0d8df6b59d3c8ca8aa3\"><strong>数据存储</strong>：持久层。浏览器需要在硬盘上保存各种数据，例如 Cookie。</li></ol><h4 data-lake-id=\"5e68f405e64717bf0f37a8fa3edf2101\" id=\"efYAi\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">多进程浏览器</h4><div data-card-type=\"block\" data-lake-card=\"table\" id=\"HbMJ7\" class=\"lake-card-margin\"><table class=\"lake-table lake-no-border\" style=\"width: 749px; outline: none; border-collapse: collapse; border: 1px solid transparent;\"><colgroup><col width=\"334\" span=\"1\"><col width=\"415\" span=\"1\"></colgroup><tbody><tr style=\"height: 33px;\"><td style=\"background-color: rgb(255, 239, 209); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"42a63edb2814e68a337942684d45f063\" style=\"text-align: left; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><p data-lake-id=\"6966a211e4004a22e38ae14e1092ec70\" style=\"text-align: left; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">现代浏览器通常都是多进程的</p><ul data-lake-id=\"00ab18dfe8bb60940e42b780788b1de9\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"546fc01e64a7e9684f08f5bd599e3aa1\">Browser 进程：主控进程，负责协调，只有一个</li><li data-lake-id=\"4b2a856ea2648bf20c6de24ca2a32c1d\">插件进程：每个插件对应一个，启用该插件时创建</li><li data-lake-id=\"082c244128c94fc0f3353c0d2dd40c13\">GPU 进程：最多一个，用于 3D 绘制</li><li data-lake-id=\"9627f965641c75592dcce558bb47e106\">渲染器进程（内核）：默认每个 tab 页面一个，互不影响，控制页面渲染、脚本执行、事件处理等，但有时会优化合并</li><li data-lake-id=\"8a7b308e3ae70c68ec95bd87d159e98d\">缓存进程</li><li data-lake-id=\"385fda56f01d970074c0e369585497ff\">网络进程</li></ul></td><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"120b08668c20bc0898a0f0ffd37afc12\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" contenteditable=\"false\" class=\"lake-card-margin-top lake-card-margin-bottom\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/png/670787/1606309790894-872ee0b7-330a-40d8-8078-f30003a8d701.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"image.png\" title=\"image.png\" data-height=\"358px\" style=\"visibility: visible; width: 392px;\"></span></p></td></tr></tbody></table></div><h4 data-lake-id=\"fd41a9e0db974c965f34e2e5c424603b\" id=\"tJm9a\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">多线程的浏览器内核</h4><p data-lake-id=\"c1738b90cbf19d497280325e1812d35d\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">每一个 tab 页面可默认对应一个渲染器进程，这个进程是多线程的：<strong>UI 线程、JS 引擎线程、事件触发线程、网络请求线程等</strong><span><br></span></p><div data-card-type=\"block\" data-lake-card=\"hr\"><hr style=\"background-color: rgb(232, 232, 232); border: 1px solid transparent; margin: 18px 0px;\"></div><h3 data-lake-id=\"9fb7c6c04a197327949b02f136cf2b67\" id=\"ynWW5\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 20px; line-height: 28px;\">从输入 URL 到页面加载完成</h3><p data-lake-id=\"2825047c650a7b7a4448aedd9f5f4af8\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">参考链接：<a href=\"https://www.bilibili.com/video/BV1x54y1B7RE?from=search&amp;seid=3714521388358881989\" target=\"_blank\">【干货】浏览器是如何运作的？</a></p><h4 data-lake-id=\"2ebf281522bd28b928183c1e622d647d\" id=\"6w5IS\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">URL 解析</h4><p data-lake-id=\"4486f78b555c8de10e1eeb236adc1810\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>当用户输入内容到地址栏后，浏览器进程的 UI 线程会捕捉输入内容</span></p><ul data-lake-id=\"abfdddaa37b95d67ebb5a080c183f0e7\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"d616ad6263f1ac63ec81ec6eff85c1bd\"><span>如果是一个地址，UI 线程会启动一个网络线程进行 DNS 查询，接着建立连接获取数据</span></li><li data-lake-id=\"0a5b3c63e3f919fa70064e8ff7287dc6\"><span>如果是一串关键词，浏览器会调用默认配置的搜索引擎进行查询</span></li></ul><h4 data-lake-id=\"5c0aad45c74e0da43f96da1fca6abd46\" id=\"oNOcJ\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">DNS 查询</h4><p data-lake-id=\"d15fd92a4ea0851ecedfdd916907c0b0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>如果浏览器有缓存，直接从中获取 IP 地址，否则在系统缓存、路由器缓存查询，如果都没有命中，则向 DNS 服务器发起解析请求</span></p><h4 data-lake-id=\"5a1a53fffb4037e79a78470104f98e1a\" id=\"IUhE5\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">建立 TCP 连接，进行 HTTP 传输</h4><p data-lake-id=\"19cf472b6d3be77afa3839f6d0dd5dae\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">浏览器通过 DNS 获取到目标地址的 IP 后，通过 TCP 的三次握手建立好连接，浏览器便可以将 http 请求发送给服务器，服务端根据请求信息，得到数据后再响应给客户端</p><h4 data-lake-id=\"dc6ee09b1caef6f4e0cb00c4d9424abe\" id=\"LRG3P\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\"><span style=\"color: #F5222D;\">浏览器渲染过程</span></h4><p data-lake-id=\"3eb9fb444a8d9a3b04c9fd853de3b3ae\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">当响应数据准备完毕，网络线程会告知 UI 线程，之后 UI 线程会创建一个渲染器进程（内核）负责渲染页面。浏览器进程通过 IPC 管道将数据传输给渲染器进程，正式开始渲染</p><ol data-lake-id=\"54a83c173efe00a60cc038a4ac46ed32\" start=\"1\" lake-indent=\"0\" style=\"list-style-type: decimal; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"ad71af148dd935f220b10745823af303\"><strong>HTML 解析 &amp; DOM 生成</strong></li></ol><p data-lake-id=\"44e2657ea063a0444684eec1f9eb34e7\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">主线程解析 html，html 文档会经过<strong>词法分析</strong>与<strong>树构造</strong>过程，生成一棵 DOM 树。期间遇到 CSS 文件、多媒体资源等，渲染器进程会创建额外的网络线程进行请求，并不会阻塞主线程对 html 的解析；但是遇到 js 文件时，主线程会暂停 html 解析，等待文档中的 js 文件加载、解析、执行完毕，之后才恢复 html 解析过程</p><div data-card-type=\"block\" data-lake-card=\"table\" id=\"YaDnh\" class=\"lake-card-margin\"><table class=\"lake-table lake-no-border\" style=\"width: 747px; outline: none; border-collapse: collapse; border: 1px solid transparent;\"><colgroup><col width=\"747\" span=\"1\"></colgroup><tbody><tr style=\"height: 33px;\"><td style=\"background-color: rgb(255, 232, 230); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"31b67c4ec94af68c81e524c759e26fd8\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"48e3e485f1f289cc2c8d4049064fcb65\"><span>js 文件的加载解析阻塞 html 是因为浏览器并不知道 js 的执行是否会改变当前页面的 html 结构，如果脚本调用 document.write() 修改 html，则之前的 html 解析就没有意义了</span></li><li data-lake-id=\"2c99db9d1b4e00628874b7a38e53a129\"><span>CSS 的下载不会阻塞 html 解析，但 CSS 的解析本身由主线程完成，因此当 DOM 树生成完毕，需要等待 CSS 解析完进入下一步</span></li></ul></td></tr></tbody></table></div><ol data-lake-id=\"cee5a68fcec12b51ade7a49d7734ab19\" start=\"2\" lake-indent=\"0\" style=\"list-style-type: decimal; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"1b9be9736a9d6f895d796345614f990c\"><strong>CSS 解析 &amp; 样式计算：</strong><span>CSS 会被主线程解析为样式规则，然后确定每个 DOM 节点的计算样式</span></li><li data-lake-id=\"d4ac7657eda18610e7e5488e886fb9e4\"><strong><span>布局过程：</span></strong><span>现在只确定了 DOM 结构和每个节点的样式信息，但不知道每个节点的位置和大小信息。</span>主线程通过遍历 DOM 树和计算样式，生成一棵 Layout tree，精确计算出每个节点在屏幕上的的 x，y 坐标与尺寸信息。<span>Layout tree 和 DOM tree 不一定一致：</span></li></ol><ul data-lake-id=\"6cd0e18591b430961bbce9fc040c72fd\" lake-indent=\"1\" style=\"list-style-type: none; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><ul data-lake-id=\"0dd80864c96841bef448b0199bd0da63\" style=\"text-align: left; list-style-type: circle; margin: 0px; padding-left: 23px;\" lake-indent=\"0\"><li data-lake-id=\"5734ddb9d9103a21f7f8330fbde5c267\">一些结点<span>会被忽略</span>（比如 script 标签，meta 标签等），因为不会影响渲染的输出</li><li data-lake-id=\"99982d9ba3e060e7227d1fbf5448bce3\">一些结点是通过 CSS 样式隐藏了，这些节点同样被忽略——例如应用 display:none 样式的结点</li><li data-lake-id=\"aef58d8b46762305cd1486780760af42\">一些结点被添加进布局树，比如 ::before，::after 添加的伪元素</li></ul></ul><ol data-lake-id=\"0a7ec8f91b6471dc23c6c6d15794a6da\" start=\"4\" lake-indent=\"0\" style=\"list-style-type: decimal; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"e722da8548532258f370594ca08f203a\"><strong>绘制过程：</strong></li></ol><ol data-lake-id=\"e28fadf7206ebad1ba5ac8d40dbd5fb9\" lake-indent=\"1\" style=\"list-style-type: none; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><ol data-lake-id=\"2d1cada45197ad7db32bcf7a52a368d1\" lake-indent=\"0\" style=\"list-style-type: lower-alpha; margin: 0px; padding-left: 23px;\"><li data-lake-id=\"31ccdbbb00b97679d075c40d96976167\">由于有 z-index 或脱离文档流的元素，layout tree 中结点顺序并非渲染顺序，因此主线程会遍历 layout tree，<span>调用节点对应绘制逻辑（</span>这里的绘制逻辑并不是真正意义上的显示器设备完成绘制，而是生成一条条的绘制记录）<span>，最终得到</span><span>一个绘制记录表（paint record）</span></li><li data-lake-id=\"1b96abbcfced45e523cfa19f4b5ea1f9\">paint 过程结束后，还会得到 layer tree，参与之后的合成过程</li></ol></ol><ol data-lake-id=\"cc425ea2a3d9265c2243a5337ec40410\" start=\"5\" lake-indent=\"0\" style=\"list-style-type: decimal; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"ed111f1f4be3e3febc0c4698c32ca8e2\"><strong>（栅格化）合成过程：</strong>知道了完整的绘制信息后，需要将它们转换为屏幕上的像素点，这一过程称为栅格化（Rastering）。现代浏览器采用一种“合成”过程进行栅格化：</li></ol><ol data-lake-id=\"b7dc87d88e3dd5c1be3d95a339eb64ae\" lake-indent=\"1\" style=\"list-style-type: none; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><ol data-lake-id=\"07d29da2feeb485092139f4f97e48e68\" lake-indent=\"0\" style=\"list-style-type: lower-alpha; margin: 0px; padding-left: 23px;\"><li data-lake-id=\"7ef6179f5768d54cd37f2e1c6c862882\">主线程将绘制信息（layer tree 和绘制顺序）传递给合成器线程，后者将每个图层进行栅格化</li><li data-lake-id=\"06fa92bf4431aeb66ca49ff8548d8dae\">由于原始图层可能是整个页面长度的大小，合成器线程会将图层分为许多块（tiles），交给不同的栅格线程（Raster Thread），栅格线程光栅化 tiles 并存储在 GPU 缓存中，合成器线程会收集 <strong>Draw Quads 图块信息</strong>，其中记录了每个 tile 在 GPU 中的位置与在页面中的目标渲染位置</li><li data-lake-id=\"15f4b5e365cce126bf174874b37f9eaf\">根据<span>图块信息，合成器线程会合成一个“合成器帧”，通过 IPC 传递给浏览器进程，浏览器进程又会传送给 GPU，最终由 GPU 渲染到屏幕上</span></li><li data-lake-id=\"80b7cf3620ce35da003295e518aa7a25\"><span>当页面滚动，合成器线程又会生成下一个</span><span>“合成器帧”，同样传递给 GPU 渲染</span></li></ol></ol><div data-card-type=\"block\" data-lake-card=\"hr\"><hr style=\"background-color: rgb(232, 232, 232); border: 1px solid transparent; margin: 18px 0px;\"></div><h3 data-lake-id=\"6e6030cdf257068946321e3dbed65e6b\" id=\"pW319\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 20px; line-height: 28px;\"><span>重绘与重排</span></h3><p data-lake-id=\"7e72f49c367e4a5f0dc3d072ab301c3d\" style=\"text-align: left; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">页面渲染过程中有两个概念与性能密切相关，即重排（reflow）和重绘（repaint）</p><ul data-lake-id=\"6fcf418159104d74f64eddbdccae955b\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"26ce77b85c95944011a61ad03966c974\"><strong>重绘</strong>： <span>当改变元素的颜色属性时，不会重新触发布局，但会触发</span><strong><span>重新样式计算</span></strong><span>和</span><strong><span>绘制</span></strong></li><li data-lake-id=\"3dde8232bf8e0d22c11525fa7d9db1ab\"><strong>重排</strong> ：<span>当改变一个元素的尺寸、位置属性时，会对</span><span>触发</span><strong><span>重新样式计算</span></strong><strong><span>、布局、绘制</span></strong><span>以及后面的行为</span></li></ul><div data-card-type=\"block\" data-lake-card=\"table\" id=\"E209n\" class=\"lake-card-margin\"><table class=\"lake-table\" style=\"width: 748px; outline: none; border-collapse: collapse; border: 1px solid rgb(217, 217, 217);\"><colgroup><col width=\"114\" span=\"1\"><col width=\"634\" span=\"1\"></colgroup><tbody><tr style=\"height: 33px;\"><td colspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>行为</strong></p></td><td colspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"520f42f3293818f927861ebbd5b15da4_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>可能诱因</strong></p></td></tr><tr style=\"height: 33px;\"><td style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"25c9e37db0fe0df3be9dcdcc1f2d4e12\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>重排</strong></p></td><td rowspan=\"1\" colspan=\"1\" style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"6a092717e4bf08c0d3d3148c458f7b57\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"a958ea43e2aafb794a534464ef34ff62\">调整浏览器窗口大小</li><li data-lake-id=\"0df7dc97e0411d6cfcc265ddd6769d6f\">增加、删除、修改DOM节点</li><li data-lake-id=\"60a4c1638c6bd012443170ad86184039\">修改字体（字号字形会影响盒子布局）</li><li data-lake-id=\"9c0ffdffd609b79a4a33f560eca47e66\"><code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">display: none</code>：会触发重排和重绘，因为这是不保留物理空间的隐藏</li></ul></td></tr><tr style=\"height: 33px;\"><td style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"7436f6a7a02af62e956ea64528232d71\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>重绘</strong></p></td><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"067414768f5dfac98ca6aaeb022cf633\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"5e8c220264039d160820266db19420b8\"><code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">visibility: hidden</code>：只触发重绘，因为此盒子依旧占位存在，只不过透明了</li></ul></td></tr></tbody></table></div><p data-lake-id=\"6f707d32537f02eed1d36dd3f2dd419d\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><a href=\"https://docs.google.com/spreadsheets/u/0/d/1Hvi0nu2wG3oQ51XRHtMv-A_ZlidnwUYwgQsPQUg1R2s/pub?single=true&amp;gid=0&amp;output=html\" target=\"_blank\">Google Doc：CSS properties by style operation required</a> 明确给出了引起重绘或重排的属性变更</p><h4 data-lake-id=\"edeb73166ddc3923ec408b9254821c42\" id=\"v1PBv\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">渲染优化</h4><p data-lake-id=\"8b330f799b335c2b4175943feba53369\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">重绘与重排都会占用主线程，而 JS 也运行在主线程上，因此会面临<strong><span>抢占主线程</span></strong>的问题，<span>如果执行了不断导致重排重绘的动画，同时还有大量的 js 任务需要执行，则 js 可能不会在下一帧前即使归还主线程，表现为页面动画的卡顿</span></p><ul data-lake-id=\"227e40d3b12123124261238f40f10e12\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"cfa2b065c97df11cfa7b53abf39373a8\"><strong>requestAnimationFrame()</strong></li></ul><p data-lake-id=\"d051bd9ecc643612c2c9fbdf8b1957ff\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">requestAnimationFrame 是浏览器用于定时循环操作的一个接口，类似于setTimeout，主要用途是<strong>按帧对网页进行重绘</strong>。设置这个 API 的目的是为了让各种网页动画效果（DOM动画、Canvas动画、SVG动画、WebGL动画）能够有一个统一的刷新机制，从而节省系统资源，提高系统性能，改善视觉效果。代码中使用这个API，就是告诉浏览器希望执行一个动画，让浏览器在下一个动画帧安排一次网页重绘，该方法会在每一帧被调用</p><ul data-lake-id=\"be4f12b66f1c7ed80fc8dce545b4cdfd\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"4d9d62c6598dd7a03e773974193107c1\"><strong>transform 动画、opacity 隐藏元素</strong></li></ul><p data-lake-id=\"4b0a70effba149817d6db18b35a60a5e\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">根据上面的内容，栅格化只占用合成器线程和栅格线程，意味着无需和js抢夺主线程，而CSS3的 transform 实现的动画都基于栅格化过程，避免了和 js 抢占主线程，同时由于不用进行<span>样式计算、</span>布局、绘制等操作，节省了大量的运算时间</p><ul data-lake-id=\"9023dc1c17cdf440d11e95ccad8fde2a\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"a30480186aef3088660cac58106b9eca\"><strong>使用 DocumentFragment</strong></li></ul><p data-lake-id=\"9623ed78d62ca2cb325a3bde98a07d6b\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">在操作 DOM 时，如果需要增加大量的节点，可以先创建一个 DocumentFragment，对该文档片段进行操作，最后调用 append(frag)，这样只会在最后一次插入片段时触发一次重绘重排</p><ul data-lake-id=\"0580b81da5c0641cc88a13057989f394\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"f3caa3966347eefdd3c4df7b3afa6fea\"><strong>对参与动画的元素设置为绝对定位</strong></li></ul><p data-lake-id=\"892c0972e81cbdfd83f10f10493d83f6\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">避免对元素的父元素布局产生影响，尽量减小每次重新渲染的开销</p><div data-card-type=\"block\" data-lake-card=\"hr\"><hr style=\"background-color: rgb(232, 232, 232); border: 1px solid transparent; margin: 18px 0px;\"></div><h4 data-lake-id=\"8712ea854d23984c99635a3b71cda66e\" id=\"mKShq\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">rAF API</h4><p data-lake-id=\"069c64e15292ea2695d34b44dd406ae3\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">参考链接：</p><ul data-lake-id=\"554eaed9cde7295b747850e56b7d8f5a\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"61414ec7805f553ee21fa7c80c63d807\"><a href=\"https://www.cnblogs.com/cangqinglang/p/13877078.html\" target=\"_blank\">requestIdleCallback和requestAnimationFrame详解</a></li><li data-lake-id=\"d99f94bc5618a36477be3191a327f028\"><a href=\"https://aerotwist.com/blog/the-anatomy-of-a-frame/\" target=\"_blank\">The Anatomy of a Frame</a></li><li data-lake-id=\"aa9616b7295f8bdf8477b2216cc47c21\"><a href=\"https://www.zhangxinxu.com/wordpress/2013/09/css3-animation-requestanimationframe-tween-%25E5%258A%25A8%25E7%2594%25BB%25E7%25AE%2597%25E6%25B3%2595/\" target=\"_blank\">CSS3动画那么强，requestAnimationFrame还有毛线用？</a></li></ul><p data-lake-id=\"aa25978b11b12e0b4190552aa310a389\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" class=\"lake-card-margin-top lake-card-margin-bottom\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2021/svg/670787/1610531912535-c546e68f-b8dc-41cb-9c8b-f1387a75143f.svg\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"anatomy-of-a-frame.svg\" title=\"anatomy-of-a-frame.svg\" data-height=\"413px\" style=\"visibility: visible; width: 969px;\"></span></p><p data-lake-id=\"108b5b56f9640a96f5c5af777ea46f6d\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">为了保证页面流畅，通常浏览器会保证 FPS 至少为 60，每一帧的生命周期即涵盖了上述的浏览器渲染过程与 rAF API 的执行</p><ol data-lake-id=\"918a8b21320fbb16e2e1e6b48df6f505\" start=\"1\" lake-indent=\"0\" style=\"list-style-type: decimal; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"a80679792fd12548543bce40fb90eae5\"><strong>帧开始：</strong>OS 通过 Vsync 事件通知浏览器下一帧开始</li><li data-lake-id=\"2542029ac4fa6dc70d85955901c48abc\"><strong>输入事件的处理：</strong>输入数据从 Compositor Thread 传递到 Main Thread上的事件处理程序。调度程序会尽力保证所有输入事件处理程序（touchmove，scroll，click）首先触发，每帧一次，但实际执行中可能有延迟</li><li data-lake-id=\"24281d6c287130f4cb02134ae422256b\"><strong>rAF：</strong>这是对屏幕进行可视更新的理想位置，因为已经获得新的输入数据，并且离 Vsync 事件很接近</li><li data-lake-id=\"49d74975fa694d095bb99cf8d10d7fd9\"><strong>HTML 解析：</strong>处理新添加的 HTML，创建 DOM 元素</li><li data-lake-id=\"7e7d17de296c294f86594cd18436667b\"><strong>重新计算样式：</strong>任何新添加或修改的内容都需要重新计算样式，范围取决于更改的内容</li><li data-lake-id=\"7d38a156d475f564130c751ffb26ba15\"><strong>布局：</strong>计算每个可见元素的几何信息</li><li data-lake-id=\"45a07507adeed321e145a3c87a66596e\"><strong>更新 Layer Tree：</strong>创建堆叠上下文和深度排序元素</li><li data-lake-id=\"5889f30d482aab4073ff28f3f062cbe5\"><strong>绘制：</strong>确定绘制顺序</li><li data-lake-id=\"c85942f8f0a6d3f7bc3b209c2a38ece2\"><strong><span>合成阶段</span></strong><strong>：</strong>栅格线程光栅<span>化各个图层的图块，合成器线程收集 </span><span>Draw Quads，GPU 缓存 tiles</span></li><li data-lake-id=\"6c641cfc6c20997e653ee84202f64cf5\"><strong>帧结束：</strong>Draw Quads 会被提交给 GPU 线程，GPU 使用这些信息进行绘制</li><li data-lake-id=\"83c952a9fa3909d9c78be3d8382f6ac4\"><code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">requestIdleCallback</code>：当前面所有任务耗时没超过 16 ms，说明有当前帧有剩余空闲时间，此时就会执行 requestIdleCallback 里注册的回调</li></ol><p data-lake-id=\"45447a631d4db83e94b547413acbf009\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">通过上述过程可以总结 <strong>rAF 的优点：</strong></p><ul data-lake-id=\"8de801e04462c300eb7cd1276280c2de\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"95e4f406e79cc4078a19e5f88f408014\"><strong>节省资源：</strong>rAF <span>在事件处理程序之后执行，</span><span>把每一帧中的所有DOM操作集中起来，在一次重绘或回流中就完成</span></li><li data-lake-id=\"64e68eea907923752684f2230f74531b\"><strong>改</strong><strong>善视觉效果：</strong>rAF 在事件处理程序与渲染之间统一为每一帧安排了执行动画函数的时间，尽可能的保证了每一帧动画的连续</li></ul><div data-card-type=\"block\" data-lake-card=\"hr\"><hr style=\"background-color: rgb(232, 232, 232); border: 1px solid transparent; margin: 18px 0px;\"></div><h3 data-lake-id=\"797592f1b50183abb8f358c3cadc2f53\" id=\"6eGJY\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 20px; line-height: 28px;\">前端存储机制</h3><h4 data-lake-id=\"a3bc375f845a1e4f40fcadf9bf36980b\" id=\"9k3Ov\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">cookies&nbsp;</h4><p data-lake-id=\"43608cb03883098c24deb5010038024c\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>存储位置：</strong>cookies 是网站为了标识用户身份而保存在客户端中的数据，它始终在同源的 HTTP 请求中携带，也就是会在客户端与服务端之间来回传递</p><p data-lake-id=\"c3d8c1e54033c69b45d0d3c2a6938456\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>存储大小：</strong>本地 cookies 数据大小不能超过4K，safari 和 chrome 对同一域名下 cookies 数量无限制</p><p data-lake-id=\"28706f4f5f0d65d89d7055524ee88e90\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>生命周期：</strong>cookies 在设置的过期时间之前一直有效，即使窗口或者浏览器关闭</p><p data-lake-id=\"0125c6abfdf4e52fb1e6ed2052f0285c\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>跨域：</strong>不允许跨域，当手动指定 <code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">domain</code> 时，允许给定的域以及其子域访问 cookie</p><div data-card-type=\"block\" data-lake-card=\"codeblock\" id=\"77crV\" class=\"lake-card-margin\" data-language=\"javascript\"><div class=\"lake-codeblock-content\" style=\"border: 1px solid rgb(232, 232, 232); max-width: 750px; color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: rgb(249, 249, 249);\"><div class=\"CodeMirror-sizer\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 16px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><pre class=\"cm-s-default\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"cm-variable\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">document</span>.<span class=\"cm-property\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">cookie</span> <span class=\"cm-operator\" style=\"color: rgb(215, 58, 73); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">=</span> <span class=\"cm-string\" style=\"color: rgb(102, 153, 0); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\"name=semlinker\"</span>;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"cm-variable\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">document</span>.<span class=\"cm-property\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">cookie</span> <span class=\"cm-operator\" style=\"color: rgb(215, 58, 73); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">=</span> <span class=\"cm-string\" style=\"color: rgb(102, 153, 0); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\"favorite_food=tripe\"</span>;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"cm-variable\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">alert</span>(<span class=\"cm-variable\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">document</span>.<span class=\"cm-property\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">cookie</span>);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"cm-comment\" style=\"color: rgb(106, 115, 125); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">// 显示: name=semlinker;favorite_food=tripe</span></span></span></pre></div></div></div><div data-card-type=\"block\" data-lake-card=\"yuque\" id=\"2bdwI\" class=\"lake-card-margin\"><span>此处为语雀文档，点击链接查看：</span><a href=\"https://www.yuque.com/gesidalijiashidai/fgeemd/gauai2\" style=\"\n    word-wrap: break-word;\n    color: #096DD9;\n    touch-action: manipulation;\n    background-color: rgba(0,0,0,0);\n    text-decoration: none;\n    outline: none;\n    cursor: pointer;\n    transition: color .3s;\n  \">https://www.yuque.com/gesidalijiashidai/fgeemd/gauai2</a></div><h4 data-lake-id=\"2fd522eaa495d8c1e9280522e30b50d5\" id=\"5ZvuT\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\"><span>sessionStorage &amp;&nbsp; localStorage</span></h4><p data-lake-id=\"c29f1918f795c1de7e218bb258d47c38\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>存储位置：</strong><span>sessionStorage 和 localStorage 不会主动把数据发送给服务端，仅在本地保存</span></p><p data-lake-id=\"f12e5ca8a2541df17baf6c7b877c87b9\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span class=\"lake-fontsize-11\" style=\"font-size: 14px;\" data-mce-style=\"font-size: 11px\"><span>存储大小：</span></span></strong>sessionStorage 和 localStorage 存储空间可以达到5M-10M</p><p data-lake-id=\"3c789f184430e630dadaa4ce9dd18812\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>生命周期：</span></strong>sessionStorage 在浏览器关闭后自动删除，localStorage 存储持久数据，浏览器关闭后数据不丢失，除非主动删除</p><p data-lake-id=\"04f332eff9e580668c4de34da54176b1\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>跨域：</span></strong><span>不允许，</span>访问存储在浏览器中的数据，如 localStorage 和 IndexedDB，是以源进行分割。每个源都拥有自己单独的存储空间，一个源中的 JS 脚本不能对属于其它源的数据进行读写操作存储位置</p><div data-card-type=\"block\" data-lake-card=\"codeblock\" id=\"VbdCj\" class=\"lake-card-margin\" data-language=\"javascript\"><div class=\"lake-codeblock-content\" style=\"border: 1px solid rgb(232, 232, 232); max-width: 750px; color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: rgb(249, 249, 249);\"><div class=\"CodeMirror-sizer\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 16px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><pre class=\"cm-s-default\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"cm-comment\" style=\"color: rgb(106, 115, 125); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">// 通过setItem()增加一个数据项</span>\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"cm-variable\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">localStorage</span>.<span class=\"cm-property\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">setItem</span>(<span class=\"cm-string\" style=\"color: rgb(102, 153, 0); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">'myName'</span>, <span class=\"cm-string\" style=\"color: rgb(102, 153, 0); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">'Semlinker'</span>);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"cm-comment\" style=\"color: rgb(106, 115, 125); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">// 通过getItem()获取某个数据项</span>\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"cm-keyword\" style=\"color: rgb(215, 58, 73); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">let</span> <span class=\"cm-def\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">me</span> <span class=\"cm-operator\" style=\"color: rgb(215, 58, 73); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">=</span> <span class=\"cm-variable\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">localStorage</span>.<span class=\"cm-property\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">getItem</span>(<span class=\"cm-string\" style=\"color: rgb(102, 153, 0); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">'myName'</span>);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"cm-comment\" style=\"color: rgb(106, 115, 125); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">// 通过removeItem()移除某个数据项</span>\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"cm-variable\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">localStorage</span>.<span class=\"cm-property\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">removeItem</span>(<span class=\"cm-string\" style=\"color: rgb(102, 153, 0); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">'myName'</span>);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"cm-comment\" style=\"color: rgb(106, 115, 125); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">// 移除所有数据项</span>\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"cm-variable\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">localStorage</span>.<span class=\"cm-property\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">clear</span>();</span></span></pre></div></div></div><h4 data-lake-id=\"12f500a26c2b5e2a977167a6ded069e6\" id=\"YAHaW\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">共享 webStorage</h4><blockquote style=\"padding-left: 1em; margin-top: 5px; margin-bottom: 5px; margin-left: 0px; border-left: 3px solid rgb(238, 238, 238); opacity: 0.6;\"><p data-lake-id=\"89ae1a95f43118fe9a1c42074b8b8628\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/sessionStorage\" target=\"_blank\">MDN</a>：在新标签或窗口打开一个页面时会复制顶级浏览会话的上下文作为新会话的上下文</p></blockquote><ul data-lake-id=\"af4cb9b4f0335ee49709f7562a64ac6d\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"797dc5b9c8bbbb24f665b41fe24b11e3\"><span>localStorage：</span>相同浏览器下，并且是同源窗口（协议、域名、端口一致），不同页面可以共享 localStorage</li><li data-lake-id=\"1087b174a19caf072b030a91812c7475\"><span>sessionStorage：</span>通过跳转到同源页面可以共享 sessionStorage </li></ul><p data-lake-id=\"4c1146f12f28bc0b1ac49c73ecb1108c\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">根据上面的条件，当使用 <code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">&lt;a target=\"_blank\" /&gt;</code>, <code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">window.location.href</code>，<code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">window.open</code> 打开新的页面时，新页面会复制之前同地址页面的 sessionStorage，尽管两个页面 sessionStorage 相同，但它们是相互独立的，不会改变对方</p><div data-card-type=\"block\" data-lake-card=\"codeblock\" id=\"aDyxD\" class=\"lake-card-margin\" data-language=\"plain\"><div class=\"lake-codeblock-content\" style=\"border: 1px solid rgb(232, 232, 232); max-width: 750px; color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: rgb(249, 249, 249);\"><div class=\"CodeMirror-sizer\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 16px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><pre class=\"cm-s-default\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">(1) &lt;a href=\"同源页面\" target=\"_self\"&gt;跳转&lt;/a&gt;    //原窗口\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">(2) &lt;a href=\"同源页面\" target=\"_blank\"&gt;跳转&lt;/a&gt;  //新开一个未命名窗口\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">(3) window.location.href = '同源页面'      //原窗口\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">(4) window.location.replace('同源页面')   //原窗口\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">(5) window.open('同源页面')       //新开窗口\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">(6) this.$router.push({path: '同源页面'})   //通过路由跳转共享值</span></span></pre></div></div></div><p data-lake-id=\"9bc1d90b4be1f04d695d6b2d8855be4a\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p></div>",
  "slug": 15977767,
  "title": "浏览器渲染 & 前端存储"
}