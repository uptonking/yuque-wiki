{
  "body_html": "<!doctype html><div class=\"lake-content-editor-core lake-engine lake-typography-classic\" data-lake-element=\"root\" data-selection-undefined=\"%7B%22path%22%3A%5B%5B77%2C0%2C3%2C0%2C0%2C0%2C66%5D%2C%5B77%2C0%2C3%2C0%2C0%2C0%2C66%5D%5D%2C%22active%22%3Atrue%7D\"><blockquote style=\"margin-top: 5px; margin-bottom: 5px; padding-left: 1em; margin-left: 0px; border-left: 3px solid rgb(238, 238, 238); opacity: 0.6;\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">有时候感觉自己不是能写出《劝退宝典》的人，很多东西已经完全忘干净了🆒</p></blockquote><h3 data-lake-id=\"fa3b6c457aa1a35cd9da54ec58aa996f\" id=\"H9TZv\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 20px; line-height: 28px;\">网络协议栈</h3><p data-lake-id=\"cc66adbbe51a16a1069e1aa2fbfcdb2b\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>所有各层协议合称协议栈</span><span>，</span><span style=\"color: #F5222D;\">因特网协议栈有</span><span style=\"color: #F5222D;\">5</span><span style=\"color: #F5222D;\">层，</span><span style=\"color: #F5222D;\">ISO/OSI模型有7层</span></p><ul data-lake-id=\"1174b9b4ea222b5b93ad5ad86c26aa5f\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"a04a7e3ae8e814eaf273dd183dadf1cf\"><span>PDU（Protocol Data Unit）：协议数据单元，是指对等层次之间传递的数据单位</span></li></ul><p data-lake-id=\"f83e597263bf97cd7caeb843725aeee7\" style=\"text-align: center; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" class=\"lake-card-margin-top lake-card-margin-bottom\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/jpeg/670787/1606307079787-f7ff6394-d653-438e-a6e0-429cf72dab49.jpeg\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"image\" title=\"image\" data-height=\"352px\" style=\"visibility: visible; width: 437px;\"></span><span><br></span></p><div data-card-type=\"block\" data-lake-card=\"table\" id=\"bSwq8\"><table class=\"lake-table\" style=\"width: 718px; outline: none; border-collapse: collapse; border: 1px solid rgb(217, 217, 217);\"><colgroup><col span=\"1\" width=\"40\"><col span=\"1\" width=\"90\"><col span=\"1\" width=\"459\"><col span=\"1\" width=\"129\"></colgroup><tbody><tr style=\"height: 33px;\"><td rowspan=\"5\" colspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 232, 230); color: rgb(38, 38, 38); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"56451b6fc226a8aae3c854f53c284fed\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><br></strong></p><p data-lake-id=\"7538cd925b453bd240cd7bf041f487a7\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><br></strong></p><p data-lake-id=\"588bd05ef26d1806ad5ca4bbf6941726\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><br></strong></p><p data-lake-id=\"a1dd00a191779b60d523f3553f1f3991\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><br></strong></p><p data-lake-id=\"c56ed1c7506e820ae0fdf4be916ee167\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>因</strong></p><p data-lake-id=\"ba6162b69cf900ec4fe688d3acdf902d\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>特</strong></p><p data-lake-id=\"a7dd677a4d6e49b1aabf2d87a0c6332d\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>网</strong></p><p data-lake-id=\"c61ee020dda359b03a884000760bde64\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>协</strong></p><p data-lake-id=\"baec9ecf1a1f8db23fa71188eedb967c\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>议</strong></p><p data-lake-id=\"e63b79455d6ed6971645d4fab2175a12\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>栈</strong></p></td><td rowspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(38, 38, 38); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"06e8d4952c8d7589dd01c7d00e7534c5\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>应用层</strong></p></td><td style=\"vertical-align: top; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"986becd54e41760956517a228ec2c9b1\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>支持网络程序</span><span>，</span><span>是网络程序及其应用层协议存留处</span></p><ul data-lake-id=\"c1d81ad5bd4aa7f998091c7ccc034131\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"51a26d5d18bbdcc1f2a9b4555d371ade\"><span>PDU</span><span>： message</span></li><li data-lake-id=\"1878fe5e5c16c9c3a376360608b361d4\"><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size: 14px;\">FTP</span><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size: 14px;\">， SMTP， HTTP</span></li></ul></td><td rowspan=\"7\" colspan=\"1\" style=\"vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(38, 38, 38); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"48ca8daa4ac5e4ac712c5aa2c4d1ff0f\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" contenteditable=\"false\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/png/670787/1578550789607-9d0b5bdb-33df-471e-a9f4-c29037807efd.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"image.png\" title=\"image.png\" data-height=\"177px\" style=\"visibility: visible; width: 106px;\"></span></p><p data-lake-id=\"6bf3b7e99858fa7cd4186a34b2d8d656\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><p data-lake-id=\"a2d122360ba6b3b49ced6d546b7fbb9c\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" contenteditable=\"false\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/png/670787/1578550977694-e410c64d-5b59-4e8a-ac3d-41cee795e9ff.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"image.png\" title=\"image.png\" data-height=\"191px\" style=\"visibility: visible; width: 105px;\"></span></p></td></tr><tr style=\"height: 33px;\"><td rowspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(38, 38, 38); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"b1f8df50be6f34b4ed672d3269c38492\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>传输层</strong></p></td><td style=\"vertical-align: top; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"f4fb24749106818a29ed1ffa3a6a6cab\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>在程序端点间传输应用层</span><span>message</span></p><ul data-lake-id=\"3ee47b9ebf2d2e9a5d15bcd571675417\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"d1171a661565d8bd2133b420de7e13f3\"><span>PDU</span><span>：&nbsp; segment</span></li><li data-lake-id=\"5398e269ded5c3d70a65b9b2008ca4f2\"><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size: 14px;\">TCP</span><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size: 14px;\">， UDP</span></li></ul></td></tr><tr style=\"height: 33px;\"><td rowspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(38, 38, 38); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"fd0706e460069a5f6f07922696ff3cc1\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>网络层</strong></p></td><td style=\"vertical-align: top; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"bb04cad5171a1cb92c48b8f83b18f8f6\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>将称为数据报</span><span>(datagram)</span><span>的网络层分组从一台主机移动到另一台</span></p><ul data-lake-id=\"d87e45f52630a60d78805d485b095336\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"33ed85c92138d80dd85838bdca30beab\"><span>PDU： datagram</span></li><li data-lake-id=\"3f02400d327a9ca88fbca67e02214740\"><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size: 14px;\">IP</span></li></ul></td></tr><tr style=\"height: 33px;\"><td rowspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(38, 38, 38); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"10475d522f36bca40a377934fae8fefd\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>链路层</strong></p></td><td style=\"vertical-align: top; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"1fd6125381e6e3fbef46f3056115a0f7\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>在相邻网络节点间转递数据</span><span>，</span><span>其上的分组为帧</span><span>(frame)</span></p><ul data-lake-id=\"632f900f263d2b667cec674a33492e71\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"7a1c849a670c4b8e599dd7f32cbb50ab\"><span>    PDU</span><span>： frame</span></li><li data-lake-id=\"8984bac381e2781d2fb929abbddccfb4\"><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size: 14px;\">Ethernet</span><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size: 14px;\">， 802.111， PPP</span></li></ul></td></tr><tr style=\"height: 33px;\"><td rowspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(38, 38, 38); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"522039bb5074257ae391359a8460d2db\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>物理层</strong></p></td><td style=\"vertical-align: top; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"62d5c60ee0359092aa7982a50f2d6f0a\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>负责</span><span>将frame中的bit运输到相邻网络元素</span></p><ul data-lake-id=\"9a85b05886d7c799828f84996f4d517b\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"3f57bb72261989c17b0f1e54ff2477c8\"><span>PDU</span><span>： bits</span></li></ul></td></tr><tr style=\"height: 33px;\"><td rowspan=\"2\" colspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 236, 224); color: rgb(38, 38, 38); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"5c3d30d92e8269339797924890a0afd6\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>I</strong><br><strong>S</strong></p><p data-lake-id=\"159bf595163402d181d310c772cdfbd3\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>O</strong></p></td><td colspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(38, 38, 38); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"76391b0bae4d65fa0e22948c61ce68bd\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>表示层</strong></p></td><td colspan=\"1\" style=\"vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(38, 38, 38); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"face38276ecfe660ae704030548c951c\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>使通信的app可解释交换数据的含义</span></p></td></tr><tr style=\"height: 33px;\"><td colspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(38, 38, 38); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"b64c239480f4e282ee3b14de5c3829b5\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>会话层</strong></p></td><td colspan=\"1\" style=\"vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(38, 38, 38); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"e6ce2f23aab76e4c63f055da2f456218\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>提供数据交换和定界与同步功能</span><span>，</span><span>包括建立</span><span>check point</span><span>和恢复</span></p></td></tr></tbody></table></div><div data-card-type=\"block\" data-lake-card=\"hr\"><hr style=\"background-color: rgb(232, 232, 232); border: 1px solid transparent; margin: 18px 0px;\"></div><h3 data-lake-id=\"eb91cbc3f58401aa13470db40052a29e\" id=\"fNduc\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 20px; line-height: 28px;\">TCP——面向连接的传输</h3><h4 id=\"jplex\" data-lake-id=\"915088d6c997260802780a7f8b4de3e2\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\"><span>TCP 概览</span></h4><div data-card-type=\"block\" data-lake-card=\"table\" id=\"Q1lwE\" class=\"lake-card-margin\"><table class=\"lake-table\" style=\"width: 745px; outline: none; border-collapse: collapse; border: 1px solid rgb(217, 217, 217);\"><colgroup><col span=\"1\" width=\"75\"><col span=\"1\" width=\"670\"></colgroup><tbody><tr style=\"height: 33px;\"><td colspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>报文段</strong></p></td><td colspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" contenteditable=\"false\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/png/1662693/1596253086779-9bc2d898-9c98-4681-87f0-998a3d36ede3.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"image\" title=\"image\" data-height=\"359px\" style=\"visibility: visible; width: 527px;\"></span></p></td></tr><tr style=\"height: 33px;\"><td colspan=\"1\" rowspan=\"2\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"d2da8bd170288d92fe6b66f362b34051\" style=\"text-align: center; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>组成</strong></p></td><td colspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" contenteditable=\"false\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/png/670787/1578711281517-929a3bf5-c305-4782-ad4e-29df3d6a10cc.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"image.png\" title=\"image.png\" data-height=\"197px\" style=\"visibility: visible; width: 413px;\"></span></p></td></tr><tr style=\"height: 33px;\"><td rowspan=\"1\" colspan=\"1\" style=\"vertical-align: top; text-align: justify; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"0570b18c163bdaa389009377692510b0\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"082a60588ef921788e7e13f64da33242\">发送方：发送缓存、变量和进程 socket</li><li data-lake-id=\"7c068348562dbd2e311e24b67f584df8\">接收方：接收缓存，变量<span>和</span>进程 socket</li></ul><p data-lake-id=\"72e7b6e680196b686bd41ee0c9933c5a\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">两台host之间的网络元素（routers，switchers）没有为连接分配cache和变量</p></td></tr><tr style=\"height: 33px;\"><td style=\"vertical-align: top; text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"6b4184790c3b498bb168f1c3aba4fe53\" style=\"text-align: center; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>特点</strong></p></td><td rowspan=\"1\" colspan=\"1\" style=\"vertical-align: top; text-align: justify; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"a57709158ae0e95a3379cccc2b07afe5\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"13bf5d15aa17849379c9f34ace08dee7\"><strong>面向连接的可靠传输：</strong>三次握手、四次挥手，传输可靠有序的字节流</li><li data-lake-id=\"f55d34bc3c4f491c84f8fe43bb1d216a\"><strong>一一对应：</strong>一个 sender，一个 receiver</li><li data-lake-id=\"77917370f4f9314073b1aed77924f831\"><strong>缓冲：</strong>sender 与 receiver 都有缓存区</li><li data-lake-id=\"4290cd30be5611d2291f77a17f486e26\"><strong>全双工通信：</strong>在一条 TCP 连接中的双向数据流</li></ul></td></tr></tbody></table></div><h4 id=\"ePvtZ\" data-lake-id=\"db0ef192f823a4fc947b9c4d3c463ce9\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\"><span>TCP </span><span>连接管理</span></h4><ul data-lake-id=\"13cc27851df924482869914f28fe2726\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"3023b843fac10b49df595bf6a49d45f8\"><strong>三次握手</strong></li></ul><p data-lake-id=\"8d19fb373630af03644a284c02edfb49\" style=\"text-align: center; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" class=\"lake-card-margin-top lake-card-margin-bottom\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/png/670787/1578712176828-503cd443-512e-45a7-b0a0-314c6dd8b929.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"image.png\" title=\"image.png\" data-height=\"349px\" style=\"visibility: visible; width: 384px;\"></span></p><div data-card-type=\"block\" data-lake-card=\"table\" id=\"qSzBx\" class=\"lake-card-margin\"><table class=\"lake-table lake-no-border\" style=\"width: 748px; outline: none; border-collapse: collapse; border: 1px solid transparent;\"><colgroup><col width=\"574\" span=\"1\"><col width=\"174\" span=\"1\"></colgroup><tbody><tr style=\"height: 33px;\"><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"b99ae7945b255f4aac12d2ec10f1b250\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>第一次——客户端请求连接：&nbsp;</strong></p><p data-lake-id=\"94181d77c96e8e773689c4e7c74be1a5\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">客户端随机初始化序号（client_isn），置于 TCP 首部的 seq 字段中，同时把 SYN 标志位置为 1 。把第一个 SYN 报文发送给服务端，该报文不包含应用层数据，之后客户端处于 SYN-SENT 状态</p></td><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"34c07b2e4f18c235e2d099b2fd7a3c57\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>SYN=1</strong></p><p data-lake-id=\"dc0b9d3e97610848cf7070c4bf98cc21\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>seq</strong><strong>=client_isn</strong></p></td></tr><tr style=\"height: 33px;\"><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"b8ee6702f18af6df750115a692aa23ff\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>第二步——服务端确认 &amp; 请求连接：</strong></p><p data-lake-id=\"a0b56242061c805bf9004341c2c64150\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>&nbsp;</strong>服务端收到客户端的 SYN 报文后，随机初始化序号（server_isn）填入 TCP 首部 seq 中，设置 ACK=1 ，ack=client_isn + 1，接着把 SYN 标志置为 1。把该报文发给客户端，该报文也不包含应用层数据，之后服务端处于 SYN-RCVD 状态<span><br></span></p></td><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"c49d124493578a48659aa2c46c5fb9f9\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>SYN=1</span></strong></p><p data-lake-id=\"4aa9de75434a918495de9b455de0c659\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>ACK=1</span></strong></p><p data-lake-id=\"4d331772330900d13dbdfeb084170821\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>seq=server_isn</span></strong></p><p data-lake-id=\"b6e3f8020c737cb1fc8b8705d8aa81c3\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>ack=client_isn+1</span></strong></p></td></tr><tr style=\"height: 33px;\"><td colspan=\"2\" rowspan=\"1\" style=\"vertical-align: top; background-color: rgb(233, 233, 233); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"ccaa60b322fc0e04b797794891a2e47e\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>ACK 和 ack：</span></strong><span>前者用于标注当前报文段的性质（SYN、ACK、FIN），后者用于向发送方确认已经收到的分组</span></p></td></tr><tr style=\"height: 33px;\"><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"f0449dceaad236fe1fde975250706445\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>第三步——客户端确认 &amp; 传输数据：&nbsp;</strong></p><p data-lake-id=\"54411bb8eac2d047e3c0b5a2d244d363\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">客户端收到报文后需要发送确认，ACK=1，ack=<span>server_isn +&nbsp;</span>1 ，seq=client_isn + 1 ，最后把报文发送给服务端，连接已经建立，这次报文可以携带客户到服务器的数据，之后客户端处于 ESTABLISHED 。服务器收到客户端的应答报文后，也进入 ESTABLISHED 状态</p></td><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"8b8e78a35e8aa4f8c37c75a1fcb0a3df\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>ACK=1</span></strong></p><p data-lake-id=\"09fc3c822bd4815cb3f7ca0622f2570d\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>seq=client_isn+1</span></strong></p><p data-lake-id=\"c2f3d342db53d9f6ce2c5c85e9109d4d\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>ack=server_isn+1</span></strong></p></td></tr></tbody></table></div><p data-lake-id=\"074aeaee857d97c8e4b30305a966164a\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><ul data-lake-id=\"f11ac448e8a4e4944db3182f095ba007\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"df129475ae848668a2ddea06733d1690\"><strong>四次挥手</strong></li></ul><p data-lake-id=\"3a17f019ed89a94dae6f4dd1cfd10e3b\" style=\"text-align: center; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" class=\"lake-card-margin-top lake-card-margin-bottom\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/png/670787/1578712393642-a2dc504b-0e5a-4d9c-a3c3-c1a566447401.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"image.png\" title=\"image.png\" data-height=\"365px\" style=\"visibility: visible; width: 296px;\"></span></p><div data-card-type=\"block\" data-lake-card=\"table\" id=\"2z1l6\" class=\"lake-card-margin\"><table class=\"lake-table lake-no-border\" style=\"width: 746px; outline: none; border-collapse: collapse; border: 1px solid transparent;\"><colgroup><col width=\"589\" span=\"1\"><col width=\"157\" span=\"1\"></colgroup><tbody><tr style=\"height: 33px;\"><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"d5993fb475b16e38b51d3f456414a374\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>第一次——客户端请求断开：&nbsp;<br></strong>开始双方都处于<span> ESTABLISHED 状态。当客户端想要断开连接：</span>客户端发出<strong><span>连接释放报文段</span></strong>，置 FIN=1，seq=u，进入FIN-WAIT-1状态</p></td><td style=\"text-align: left; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"ad38463290ad6842357871ab54a4c5aa\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>FIN=1</strong></p><p data-lake-id=\"74fea93fb638a753c817a8d895c39c33\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>seq</strong><strong>=u</strong></p></td></tr><tr style=\"height: 33px;\"><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"6603bf90ab5b13cb5f5e0ef742321f8b\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>第二次——服务端确认请求：&nbsp;<br></strong>服务器收到客户端报文后，发出<strong>确认报文段：</strong>ACK=1，ack=u+1，seq=v，进入CLOSE-WAIT状态。<span>客户端收到服务器确认结果后，进入FIN-WAIT-2状态。</span></p></td><td style=\"text-align: left; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"06e0bec84b24153f169d800e758abd00\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>ACK=1</span></strong></p><p data-lake-id=\"03109ea0808f66bc1218e269e4cec86f\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>ack=u+1<br></span></strong><strong><span>seq=v</span></strong></p></td></tr><tr style=\"height: 33px;\"><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"e5f7eb6edb237afa68b0798f86a91775\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>第三次——服务端请求断开：&nbsp;<br></strong>当服务器完成所有发送后，发送<strong>连接释放报文段：</strong>FIN=1，ACK=1，ack=u+1，seq=w，服务器进入LAST-ACK（最后确认态）</p></td><td style=\"text-align: left; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"e1f59d42dd97aec18387b673488e8ac5\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>FIN=1</span></strong></p><p data-lake-id=\"410532f87126fe770c7191e8a4583461\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>ACK=1</span></strong></p><p data-lake-id=\"fb43a29d7e7a6afc51c2873ddd81e629\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>ack=u+1</span></strong></p><p data-lake-id=\"d6b58a1729b335ddefd5857c2d1f10c9\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>seq=w</span></strong></p></td></tr><tr style=\"height: 33px;\"><td colspan=\"1\" style=\"vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>第四步——客户端确认请求：<br>&nbsp;</strong>客户端收到请求，发送<strong>确认报文段：</strong>ACK=1，ack=w+1，seq=u+1，进入TIME-WAIT（时间等待）。经过2个最长报文段寿命后，客户端CLOSE；服务器收到确认后，立刻进入CLOSE状态</p></td><td colspan=\"1\" style=\"text-align: left; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"0f05fb2f18e56011db64b200738e0ac0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>ACK=1</span></strong></p><p data-lake-id=\"8b2925273c9fffeae576d398772f2186\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>ack=w+1</span></strong></p><p data-lake-id=\"8ed0193eba2afe36c8ac5eabef90cfcb\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span>seq=u+1</span></strong></p></td></tr></tbody></table></div><div data-card-type=\"block\" data-lake-card=\"table\" id=\"u7j6s\" class=\"lake-card-margin\"><table class=\"lake-table lake-no-border\" style=\"width: 747px; outline: none; border-collapse: collapse; border: 1px solid transparent;\"><colgroup><col width=\"747\" span=\"1\"></colgroup><tbody><tr style=\"height: 33px;\"><td style=\"background-color: rgb(233, 233, 233); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"bdc056c4af9be05b5f1d390ac1a31a39\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>【问题1】为什么是三次握手，不能仅有两次？</strong></p><p data-lake-id=\"a5b9b4c09fcaf5bc2dc39b935ec3d0e4\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">假如不采用三次握手，那么只要 server 发出确认，新的建立就连接了，但当该 &nbsp;ACK 错误/冗余时，client 不会理睬 server的确认信息，也不会向服务端发送任何数据。但是server认为新的连接已经建立起来了，并一直等待 client 发来数据，这样，server的很多资源就没白白浪费掉了，采用三次握手就是为了防止这种情况的发生， server 会因为收不到确认的报文，就知道 client 并没有建立连接</p><p data-lake-id=\"a49c9a20244a83dce4a4db7e1599e8dd\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>【问题2】为什么连接的时候是三次握手，关闭的时候却是四次握手？</strong></p><p data-lake-id=\"e1e09b2bdcfa1eaf07691ded708aecf5\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">因为当 server 收到 client 的 SYN 连接请求报文后，可以直接发送 SYN+ACK 报文。但是关闭连接时，当 server 收到 FIN 报文时，可能当前仍处于传输状态，并不会立即关闭 SOCKET ，只能先回复一个 ACK 报文，只有 server 确认所有的报文都发送完，才能发送 FIN 报文，因此不能一起发送。故需要四步握手。</p><p data-lake-id=\"4a57b7aa45342b05f23c5a3659110170\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>【问题3】为什么TIME_WAIT状态需要经过2MSL(最大报文段生存时间)才能返回到CLOSE状态？</strong></p><p data-lake-id=\"5b27e7b2468ea65db2d042192beb131f\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">必须认为网络是不可靠的，有可能最后一个 ACK 丢失。所以 TIME_WAIT 状态就是用来重发可能丢失的 ACK 报文。2MSL 就是一个发送和一个回复所需的最大时间。如果直到2MSL，Client都没有再次收到FIN，那么Client 推断 ACK 已经被成功接收，则结束 TCP 连接。</p></td></tr></tbody></table></div><h4 id=\"4JCaf\" data-lake-id=\"c89d5a202085c340de95a4e0c738b1ce\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">可靠数据传输</h4><p data-lake-id=\"ece12f26865e7d8ee66bbdc7a0f7102c\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>网络层的 IP 服务不可靠</span><span>，TCP 需要</span><span>在不可靠之上建立可靠数据传输服务</span><span>：</span><strong>确保一个进程从其接收缓存中读出的</strong><strong>是无损、</strong><strong>有序、</strong><strong>非冗余的数据流。</strong></p><div data-card-type=\"block\" data-lake-card=\"table\" id=\"zkHsD\" class=\"lake-card-margin\"><table class=\"lake-table lake-no-border\" style=\"width: 742px; outline: none; border-collapse: collapse; border: 1px solid transparent;\"><colgroup><col width=\"742\" span=\"1\"></colgroup><tbody><tr style=\"height: 33px;\"><td style=\"background-color: rgb(255, 232, 230); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"e3207f8285445a57ef9f50a243c38856\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">rdt 实现的主要机制有：</p><ul data-lake-id=\"f90d0874ff28113bb037ac44e6b5e99f\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"b163d9f4c072ca7d81427959c8a7c10f\"><strong>校验和（checksum）</strong>：检测分组的比特错误，接收方会丢弃出错的分组</li><li data-lake-id=\"83738d294790f2f039c77fb370985bf8\"><strong>计时器（timer）</strong>：为了应对分组/ ACK 丢失或延迟，在 timeout 时重传分组</li><li data-lake-id=\"d93e614708cdf3aca02f407d6a55edb6\"><strong>序号（seq）</strong>：为从发送方流向接收方的分组按序编号，接收方因此可以检测到分组丢失</li><li data-lake-id=\"446bdbed1bd00e2aaca789951b8a13d5\"><strong>确认号（ack）</strong>：接收方告诉发送方一个或一组分组已经被正确接收</li><li data-lake-id=\"e72d8fabe86a55e84bf8328f2d72d804\"><strong>窗口、流水线</strong>：RDT3.0 的停等协议保证了可靠传输，但性能孱弱，因为要求确认一个分组后才能发送下一个。<span>流水线机制允许一次发送多个分组，提高了发送方的利用率，接收方则可缓存分组</span></li></ul><ul data-lake-id=\"cda01fb0c64bc6668705df4cc3d5f82e\" lake-indent=\"1\" style=\"list-style-type: none; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><ul data-lake-id=\"8c9dfc24732dade82864ec9711e079fe\" lake-indent=\"0\" style=\"list-style-type: circle; margin: 0px; padding-left: 23px;\"><li data-lake-id=\"f97f7470ebaea732ccc31eae67fdf052\"><span>流水线机制可能遇到缓存溢出问题，因此有了\"流量控制\"</span></li><li data-lake-id=\"500303ca1d4ff5d7fe8cb5b17b55562e\"><span>为了包装流水线的传输可靠性问题，提出了 GBR 与 SR 算法</span></li></ul></ul></td></tr></tbody></table></div><div data-card-type=\"block\" data-lake-card=\"table\" id=\"ebKk0\" class=\"lake-card-margin\"><table class=\"lake-table\" style=\"width: 745px; outline: none; border-collapse: collapse; border: 1px solid rgb(217, 217, 217);\"><colgroup><col width=\"63\" span=\"1\"><col width=\"682\" span=\"1\"></colgroup><tbody><tr style=\"height: 33px;\"><td style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"8ccafe40fe1ced8b4f720fa7deeddad7\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>GBN</strong></p></td><td rowspan=\"1\" colspan=\"1\" style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ol start=\"1\" data-lake-id=\"f6f884cb890e185cc3ae70a2760895ac\" lake-indent=\"0\" style=\"list-style-type: decimal; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"2db5e75e0f079ac6d186d2e2af7a803c\"><strong>顺序性：</strong>对于sender，必须确认收到 [base] 分组被正确接收才能窗口右移；对于 receiver，必须接收 [expectseq] 分组才能返回 ACK 并 seq++</li><li data-lake-id=\"6f4df84ddf131db1aec3b1f57306d37f\"><strong>按窗口重发：</strong>当 timeout 时，无论处于 sender [base]~[seq-1] 的分组是否能正确到达，重发所有(回退)</li><li data-lake-id=\"825841ff39f7ef11d438d45bb7fe488b\"><strong>积累确认：</strong>对序号为 n 的分组确认时，表明接收方对 n 和 n 之前所有的分组都正确接收</li><li data-lake-id=\"0aa93af9943acf920de95cbbc65500e6\"><strong>冗余/错误分组：</strong>无操作</li></ol></td></tr><tr style=\"height: 33px;\"><td style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"39970d1d46a5767da6d4e9944c0aa5f7\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>SR</strong></p></td><td rowspan=\"1\" colspan=\"1\" style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ol start=\"1\" data-lake-id=\"6760ee0e1b7257bd56ef495501e9178b\" lake-indent=\"0\" style=\"list-style-type: decimal; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"4194ff89a1e0b663ac6716160cab00e9\"><strong>部分顺序性：</strong>sender 只有收到窗口中序号最小分组的 ACK 后才窗口右移；<span>receiver 对于在窗口中的任意分组，正确接收后返回 ACK，不用考虑顺序</span></li><li data-lake-id=\"0e935ba3948c2e8b2fde79d57b2927d0\"><strong>重发最小未确认分组：</strong>当 timeout 后，重发当前最小未确认的分组，重启计时器</li><li data-lake-id=\"3dff14d7069be1732cbc5b4ff8a37d97\"><strong>非积累确认</strong></li><li data-lake-id=\"7b9e8642a25ffffaa895896b6052628a\"><strong>冗余/错误分组：</strong>无操作</li></ol></td></tr></tbody></table></div><h4 data-lake-id=\"01f48e44d43272679e26814370c37b89\" id=\"jEEPk\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\"><span>TCP </span><span>流量控制</span></h4><p data-lake-id=\"4698f088873a7ef922db51e80c92f6a6\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>参考链接：</span><a href=\"https://www.zhihu.com/question/32255109/answer/68558623\" target=\"_blank\">TCP协议的滑动窗口具体是怎样控制流量的？ - wuxinliulei的回答 - 知乎</a></p><div data-card-type=\"block\" data-lake-card=\"table\" id=\"ZwAaw\" class=\"lake-card-margin\"><table class=\"lake-table\" style=\"width: 749px; outline: none; border-collapse: collapse; border: 1px solid rgb(217, 217, 217);\"><colgroup><col span=\"1\" width=\"70\"><col span=\"1\" width=\"679\"></colgroup><tbody><tr style=\"height: 33px;\"><td style=\"vertical-align: top; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"9ace39617c6e848eb44beca718d6e67c\" style=\"text-align: center; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>背景</strong></p></td><td rowspan=\"1\" colspan=\"1\" style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"d3fb8c24cda97ec4e4fa8afded7a3095\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">由于TCP在 sender/receiver 都具有buffer，为了<strong>避免处理速度不一致导致 receiver buffer溢出，数据丢失</strong>，需要进行流控，使得两端速度相一致</p></td></tr><tr style=\"height: 33px;\"><td colspan=\"1\" rowspan=\"2\" style=\"vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"a25539e2fd283ba5445f19665c42116e\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><p data-lake-id=\"acb3104cd5fbacf13eea52ec47364c4b\" style=\"text-align: center; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>实现</strong></p></td><td colspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" contenteditable=\"false\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/png/670787/1578712037627-660a65c9-de6f-4a13-918b-2e163e1dcc71.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"image.png\" title=\"image.png\" data-height=\"172px\" style=\"visibility: visible; width: 462px;\"></span></p></td></tr><tr style=\"height: 33px;\"><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"1c8c2fce4ee82238637a92529bc73a19\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>TCP 让 sender 维护一个接收窗口(receiver window)，用于提示 receiver 还有多少 buffer 可用，且全双工通信使得两端发送方各自维护一个窗口，对于发送方，即发送窗口</span></p></td></tr><tr style=\"height: 33px;\"><td colspan=\"1\" rowspan=\"1\" style=\"vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(38, 38, 38); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"00792a6171574d0870c6fcd16b9d3ba1\" style=\"text-align: center; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>场景</strong></p></td><td colspan=\"1\" style=\"text-align: left; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(38, 38, 38); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"5f90544e78df6917c7abfb16cb8d43d5\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>A发送文件给B：B为连接分配RcvBuffer，B</span><span>上进程定期从中读取数据</span><span>，</span><span>定义变量</span><span>：</span></p><ul data-lake-id=\"5e77ab34cfe606afaf3e83ece2063d3c\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"af296f11e95e7dc4c2ce32dc1a328fa3\">LastByteRead：B从 buffer 中读出的 data flow 最后一个byte编号</li><li data-lake-id=\"e6ebb139072009f2aabee88f218d757b\">LastByteRcvd：从网络到达且放入B接收缓存中数据流的最后一个 Byte 编号</li></ul><p data-lake-id=\"6b93d26bd20c06806c6ac45e1c66a758\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>为了不溢出，必须保证(rwnd标识接收窗口)</span></p><p data-lake-id=\"fe6466a1a0000cd097c0b7c1d9103058\" style=\"text-align: center; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span style=\"color: #F5222D;\"><strong>Last</strong></span><span style=\"color: #F5222D;\"><strong>ByteRcvd</strong></span><span style=\"color: #F5222D;\"><strong>-</strong></span><span style=\"color: #F5222D;\"><strong>LastByteRead</strong></span><span style=\"color: #F5222D;\"><strong>≤Rcv</strong></span><span style=\"color: #F5222D;\"><strong>Buffer</strong></span></p><p data-lake-id=\"130bd823fb9b989072d025883beecc97\" style=\"text-align: center; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span style=\"color: #F5222D;\"><strong>rwnd</strong></span><span style=\"color: #F5222D;\"><strong> = </strong></span><span style=\"color: #F5222D;\"><strong>RcvBuffer</strong></span><span style=\"color: #F5222D;\"><strong>-[</strong></span><span style=\"color: #F5222D;\"><strong>LastByteRcvd</strong></span><span style=\"color: #F5222D;\"><strong>-LastByteRead]</strong></span></p></td></tr></tbody></table></div><h4 data-lake-id=\"b913deb98fc4fbefd0f431f2512a82dd\" id=\"ZS3P1\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">TCP 拥塞控制</h4><div data-card-type=\"block\" data-lake-card=\"table\" id=\"7Icmi\" class=\"lake-card-margin\"><table class=\"lake-table\" style=\"width: 748px; outline: none; border-collapse: collapse; border: 1px solid rgb(217, 217, 217);\"><colgroup><col width=\"69\" span=\"1\"><col width=\"413\" span=\"1\"><col width=\"266\" span=\"1\"></colgroup><tbody><tr style=\"height: 33px;\"><td colspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>背景</strong></p></td><td colspan=\"1\" rowspan=\"1\" style=\"vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span style=\"color: #333333;\">拥塞现象是指到达通信子网</span><span style=\"color: #333333;\">中某一部分的分组数量过多，使得该部分网络来不及处理，以致引起这部分乃至整个网络性能下降的现象，严重时甚至会导致网络通信死锁</span></p><p data-lake-id=\"186c51763dcea09bd3affc2369431b7a\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><span style=\"color: #F5222D;\">拥塞控制是链路上的控制（堵车发生在路上）；流量控制是S/R端的控制</span></strong></p></td><td rowspan=\"2\" colspan=\"1\" style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"61f838c01228f487a5fc55ff113afac7\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><p data-lake-id=\"82857fa6d51482ff3dd8848975af0c75\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" contenteditable=\"false\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/png/670787/1578720997536-331ddb33-9c2b-4859-b844-e8b1a7333fc4.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"image.png\" title=\"image.png\" data-height=\"373px\" style=\"visibility: visible; width: 244px;\"></span></p></td></tr><tr style=\"height: 33px;\"><td style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"633d242549826d5bab165014e91160fb\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>慢启动</strong></p></td><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"4cf6f26e72511ec66370f0acd9bd5ca9\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"cc25e37bcff1f119e978763a0bb3577e\"><strong>初始</strong><strong>：</strong>给 cwnd 起始设置为<strong>1</strong><strong>MSS</strong><strong>(</strong><strong>最大报文段长度</strong><strong>)</strong>的较小值，使得初始速率为MSS/RTT</li><li data-lake-id=\"78735a13d6f11b972c981f61ddcb3d30\"><strong>传输</strong><strong>：</strong>之后每次 sender 确认一个 seg 后，把&nbsp;cwnd&nbsp;增加一个&nbsp;MSS，则 sender 的 cwnd 每次翻倍<span style=\"color: #2F54EB;\"><br></span></li><li data-lake-id=\"c7624a727a1423c2e70b5137b72300d6\"><strong>结束</strong><strong>：</strong>拥塞后，有三种结束慢启动增长 cwnd 的方式</li></ul><ol data-lake-id=\"644003460e306943df0a3d4fb18f66b8\" lake-indent=\"1\" style=\"list-style-type: none; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><ol data-lake-id=\"898960732f18e1380e9520f5aa516309\" lake-indent=\"0\" style=\"list-style-type: lower-alpha; margin: 0px; padding-left: 23px;\"><li data-lake-id=\"cd163767982ea7e231e6b85035d11962\"><strong>timeout&nbsp;标识的拥塞(说明路上确实堵)：sender 把&nbsp;cwnd&nbsp;重置为1，重启慢启动过程；同时设置 ssthresh 为 cwnd/2</strong></li><li data-lake-id=\"517a1f84703d501e3a9a5aada79df5df\"><strong>当 cwnd==ssthresh (慢启动阈值)，结束慢启动，令&nbsp;sstresh=cwnd/2，拥塞避免</strong></li><li data-lake-id=\"9c8a856ae2a0cc0ef0f6d5a914981e06\"><strong>如果发生快速重传(Fast retransmit)，快速恢复</strong></li></ol></ol></td></tr><tr style=\"height: 33px;\"><td style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"66d66e9be486ae9f561a1f5de194d3cf\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>拥塞</strong></p><p data-lake-id=\"d98922a3dd2cf8def3d73f160c43dfa9\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>避免</strong></p></td><td rowspan=\"1\" colspan=\"2\" style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"e0eefa88394b95e6c2a10404e4e6e112\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"d984058bb1021bac8567e4a3fde3d220\"><strong>传输</strong><strong>：</strong><span>如果进入拥塞避免</span><span>，</span><span>此时如果&nbsp;</span><span>cwnd&nbsp;</span><span>继续翻倍</span><span>，</span><span>很容易又进入拥塞</span><span>，因此采用每次 cwnd</span><span>增长一个</span><span>MSS</span></li><li data-lake-id=\"b75ef53862c0ae414f992a7f0b440a0d\"><strong>结束</strong><strong>：</strong>丢包事件发生</li></ul><ol data-lake-id=\"e05e6ba72dbd0c00eb41e5fb87bc38b9\" lake-indent=\"1\" style=\"list-style-type: none; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><ol data-lake-id=\"b4befe428eee4eaa156ff7674623e85f\" lake-indent=\"0\" style=\"list-style-type: lower-alpha; margin: 0px; padding-left: 23px;\"><li data-lake-id=\"16e30f87867f0b30ec366d1514825362\"><strong>timeout&nbsp;标识的拥塞：同上，cwnd=1，sstresh=cwnd/2，重启慢启动</strong></li><li data-lake-id=\"d231022d44b75fadb463b9031c0e8bf4\"><strong>当被3冗余ACK触发（说明只是出错，不一定拥塞），则反应不应剧烈，进入快速恢复</strong></li></ol></ol></td></tr><tr style=\"height: 33px;\"><td style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"dc48db617e27138f0428dc40a16529b3\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>快速</strong></p><p data-lake-id=\"8a3bdac467740d2946e845c46b0a289c\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>恢复</strong></p></td><td rowspan=\"1\" colspan=\"2\" style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"a03dbf9622a636349fd91f2e0e18c8ce\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"0ac172963f952a8b3b2f950aebe66eea\"><strong>快速恢复：</strong>立刻重传丢失的seg，cwnd 减半，每个冗余 ACK 使 cwnd++，最终 <strong>cwnd=1/2cwnd+3，sstresh=1/2cwnd，进入拥塞避免</strong></li><li data-lake-id=\"abecaa22c9341f912b520eed0208b54b\">如果重传未抵达就发生 timeout ，则&nbsp;<strong>cwnd=1，sstresh=cwnd/2，进入慢启动</strong></li></ul></td></tr></tbody></table></div><div data-card-type=\"block\" data-lake-card=\"hr\"><hr style=\"background-color: rgb(232, 232, 232); border: 1px solid transparent; margin: 18px 0px;\"></div><h3 id=\"NPNuo\" data-lake-id=\"595c089c23a0c045b1eab6bc225c5525\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 20px; line-height: 28px;\"><span>UDP——</span>无连接传输<span><br></span></h3><div data-card-type=\"block\" data-lake-card=\"table\" id=\"ePerd\"><table class=\"lake-table\" style=\"width: 746px; outline: none; border-collapse: collapse; border: 1px solid rgb(217, 217, 217);\"><colgroup><col width=\"79\" span=\"1\"><col width=\"337\" span=\"1\"><col width=\"330\" span=\"1\"></colgroup><tbody><tr style=\"height: 33px;\"><td style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"39495eaef81eaa27167d772721bd5de4\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>特征</strong></p></td><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"4159dd1167572a56f712711370efae82\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"5e432a59c166d8a1b5cf0c9f828c21fe\"><strong>无连接的</strong></li></ul><ul data-lake-id=\"92e9fcecf8f70774b32a8ed0331813c0\" lake-indent=\"1\" style=\"list-style-type: none; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><ul data-lake-id=\"73d4c1ceb1ae567fb9d6a97ced658deb\" lake-indent=\"0\" style=\"list-style-type: circle; margin: 0px; padding-left: 23px;\"><li data-lake-id=\"08c4307fcc9ea996b387b0de17ace4fe\">没有 s/r 之间的握手;</li></ul></ul><ul data-lake-id=\"6e0e47a4062e76ae6d99a7ae3c0ac10e\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"3c766f6548862bad16dfa0b08e645ed5\"><strong>尽力而为的传输</strong></li></ul><ul data-lake-id=\"c341c00df8803855312e16be7a907c3c\" lake-indent=\"1\" style=\"list-style-type: none; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><ul data-lake-id=\"0b1b959e73b8371ea096c8d37955e6dd\" lake-indent=\"0\" style=\"list-style-type: circle; margin: 0px; padding-left: 23px;\"><li data-lake-id=\"ea616f05fa14f0c6f2a1e5fcc0c7f366\">每个 UDP seg 都独立于其他 seg 被处理</li><li data-lake-id=\"fd57fc2cd9f69508838d6c26b1ef4ca4\">丢包，乱序</li></ul></ul><ul data-lake-id=\"8740f03aa678775cc384b639b545d58d\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"f8dca2336c77930b37a819030c4e44c3\"><strong>简单</strong></li><li data-lake-id=\"24d9da790c7a8a42048dfe989c846648\">header 更小</li><li data-lake-id=\"d2b657f6489a6e3c604eac06a3f5877c\">无拥塞控制</li></ul></td><td style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"b275b1cfecce53f0277a51788ee39304\" style=\"padding-left: 4em; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" contenteditable=\"false\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/png/670787/1578708602568-c6058965-d7b4-4048-8b45-6a59fafb81e2.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"image.png\" title=\"image.png\" data-height=\"234px\" style=\"visibility: visible; width: 200px;\"></span><span><br></span></p></td></tr><tr style=\"height: 33px;\"><td style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"9277539d6f642819ce4fabeeaf4f9975\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>用于</strong></p></td><td rowspan=\"1\" colspan=\"2\" style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"95a9b64b614b7081566b5cf328c6f7bb\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"92ae151d53618cad9dcd540ad1209dc3\"><span>适合 loss</span><span> tolerant&nbsp;</span><span>以及&nbsp;</span><span>rate sensative&nbsp;</span><span>的程序</span><span>，</span><span>如</span><span>：</span><span>流媒体</span><span>，DNS</span></li><li data-lake-id=\"a49e2f6c624726aab46fab437f11b876\"><span>广播与组播：没有建立连接的情况下只能使用 UDP</span></li></ul></td></tr><tr style=\"height: 33px;\"><td colspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>对比</strong></p></td><td colspan=\"1\" rowspan=\"1\" style=\"vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"d00d99807c8de15fa4a49441ec7e5ac5\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>TCP</strong></p><ul data-lake-id=\"14993e2d7b49f76444a03180be8c90f2\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"5f80385b07a90fc016672bf0bfb2237e\">面向连接：只能一对一</li><li data-lake-id=\"09d04625250348989ae731884a4d0785\">可靠数据传输：checksum、timer、seq、ACK、窗口与流水线</li><li data-lake-id=\"a093ad87d490f4a3dab40bfc0790c635\">流控，拥控</li></ul></td><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>UDP</strong></p><ul data-lake-id=\"14972e963ee9442b2ff83fdd6aad0a4a\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"412a6703f9e667350dc0f17441ca64c9\">无连接：可以一对一、一对多</li><li data-lake-id=\"6c6ec8b2fa487da2884903ede36ae799\">尽力而为的传输：只提供 checksum</li></ul></td></tr></tbody></table></div><div data-card-type=\"block\" data-lake-card=\"hr\"><hr style=\"background-color: rgb(232, 232, 232); border: 1px solid transparent; margin: 18px 0px;\"></div><h3 data-lake-id=\"c6c6d04d97358a281e8e38a0be30bc27\" id=\"jHugX\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 20px; line-height: 28px;\">DNS解析</h3><p data-lake-id=\"78ae942491709c1501ba43b7d8f949a2\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">域名系统（Domain Name System，DNS）是互联网的一项服务。它作为<strong>将域名和IP地址相互映射的一个分布式数据库</strong>，能够使人更方便地访问互联网。<strong>本地DNS协议作为应用层协议，基于运输层的UDP之上，使用53端口</strong></p><h4 data-lake-id=\"24574965b6f58566c2d4de0dc508ea74\" id=\"N7cbJ\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">DNS server分层</h4><p data-lake-id=\"34ff20c2562c8cbadf177d3b9fefc0c8\" style=\"text-align: center; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" class=\"lake-card-margin-top lake-card-margin-bottom\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/png/670787/1606307401822-aa38f798-8d6e-42c3-8116-fe7abecf076b.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"dns.png\" title=\"dns.png\" data-height=\"170px\" style=\"visibility: visible; width: 536px;\"></span></p><ul data-lake-id=\"64bfe5fac82c33222ed63e802db5cd72\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"3bb2bb41519c790cbeeba1a8262d8791\"><strong>Root name servers：</strong>根域名服务器，提供TLD服务器的IP地址</li><li data-lake-id=\"fcef5a8eba3a3674290b301f17188fef\"><strong>TLD， Top-level domain servers：</strong>顶级域名服务器，对于如com/org/net/edu/gov等顶级域和国家域都有TLD服务器，提供authoritative servers的IP地址</li><li data-lake-id=\"98377363c8f4a7ab88d20148c68bb43c\"><strong>Authoritative DNS servers：</strong>权威DNS服务器，在Internet上有公共可访问主机的组织机构需提供公众可访问的DNS记录，用以映射IP地址，组织机构需实现自己的权威DNS服务器来实现保存记录</li><li data-lake-id=\"aa49c6b3ed1f4c9980e75125e36bc467\"><strong>local DNS serves：</strong>本地DNS服务器，并不严格属于分层结构。每个ISP有一台local server，当用户host发出DNS query时，query被发送到本地server（更像是代理，实现请求的转发）</li></ul><h4 data-lake-id=\"8854fd5fcede6242b2db7a4805a0cec6\" id=\"defwV\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">迭代 DNS 查询</h4><p data-lake-id=\"65500b5a416cbbd2c18e2009a1bcd6de\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>场景：纽约大学计算机系主机cis.poly.edu想知道主机gaia.cs.umass.edu的IP地址，且已知NYU计算机系的本地DNS服务器dns.poly.edu</span></p><div data-card-type=\"block\" data-lake-card=\"table\" id=\"fkYr4\" class=\"lake-card-margin\"><table class=\"lake-table lake-no-border\" style=\"width: 748px; outline: none; border-collapse: collapse; border: 1px solid transparent;\"><colgroup><col width=\"448\" span=\"1\"><col width=\"300\" span=\"1\"></colgroup><tbody><tr style=\"height: 33px;\"><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><ol start=\"1\" data-lake-id=\"843b8a597c42e1ac0e13824b15f040db\" lake-indent=\"0\" style=\"list-style-type: decimal; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"a862842e107f4519aa6c63c59d4a853c\"><strong>cis.poly.edu首先向本地dns.poly.edu发送一个查询msg，其中包含要查询的主机名gaia.cs.umass.edu</strong></li><li data-lake-id=\"66245c9c3e6f76a53eb3a7a1b718f63d\"><strong>local server发送msg至root&nbsp;server</strong></li><li data-lake-id=\"87a03afbe2f36bbce6f760a51ce5f6a6\"><strong>root server发现edu前缀并把负责edu的TLD server的IP地址列表返回给local server</strong></li><li data-lake-id=\"fe99da5cf3a5db7ee82aca2ca74e9ef6\"><strong>local server向TLD发送msg</strong></li><li data-lake-id=\"5b874c71b8a1692ccaefd4232e7f3ccd\"><strong>TLD注意到umass前缀，返回对应机构AD server&nbsp;IP地址列表给local server</strong></li><li data-lake-id=\"4c6ca0c4c0e8d7e6e2b515cf81ddde3b\"><strong>local server向机构的AD server（dns.cs.umass.edu）发送msg</strong></li><li data-lake-id=\"a886cb8cf93fca03a0a35960107fd1f9\"><strong>对应AD server用查询到的gaia.cs.umass.edu对应IP响应</strong></li><li data-lake-id=\"389d901b76452db46b0ea84f817b9142\"><strong>local server返回结果IP地址给host</strong></li></ol></td><td rowspan=\"1\" colspan=\"1\" style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><span data-card-type=\"inline\" data-lake-card=\"image\" contenteditable=\"false\" class=\"lake-card-margin-top lake-card-margin-bottom\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/png/670787/1606307563722-eab65661-5c0a-4e60-851e-704ff09ee224.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"迭代.png\" title=\"迭代.png\" data-height=\"323px\" style=\"visibility: visible; width: 259px;\"></span><p data-lake-id=\"b2275191b4c1b0ae61bfb9e050aabca9\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p></td></tr></tbody></table></div><h4 data-lake-id=\"ac2f36ea104b63a15083bc2ba5855539\" id=\"RGlEo\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">递归 DNS 查询</h4><div data-card-type=\"block\" data-lake-card=\"table\" id=\"H0on4\" class=\"lake-card-margin\"><table class=\"lake-table lake-no-border\" style=\"width: 738px; outline: none; border-collapse: collapse; border: 1px solid transparent;\"><colgroup><col width=\"394\" span=\"1\"><col width=\"344\" span=\"1\"></colgroup><tbody><tr style=\"height: 33px;\"><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"5b54c74584774f54aa9311ef860e58f2\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong><br></strong></p><ol data-lake-id=\"91f9be21550fa7664eff7fa31cfbddd6\" lake-indent=\"0\" style=\"list-style-type: decimal; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"427ca8d0ad1f9b2face85632416764e5\"><strong>用户host向local server发送查询msg，其中包含要转换的主机名</strong></li><li data-lake-id=\"abf27bbac7f52d4d1989df09fbf1d99d\"><strong>local server向root&nbsp;server发送msg</strong></li><li data-lake-id=\"90c4616028b93f8311e1ed807627e054\"><strong>root&nbsp;server根据edu前缀发送msg至负责edu的TLD</strong></li><li data-lake-id=\"a6e59d8f68060b87c8af2507ebf39e10\"><strong>TLD根据umass.edu前缀发送msg至负责的AD server</strong></li><li data-lake-id=\"ce4fe836027c09e4fc07d13407f52a18\"><strong>AD server将msg中主机名对应的IP地址发送回TLD</strong></li><li data-lake-id=\"42883ce72a30fb5817a944ed4e17a67a\"><strong>TLD返回IP给root server</strong></li><li data-lake-id=\"810747e9cdd848645d766ee01f994b75\"><strong>root返回IP给local server</strong></li><li data-lake-id=\"86f98dcea58fbb71bc564865ec7de820\"><strong>local server返回转换结果给host</strong></li></ol></td><td style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"a4cd2b9bca085f4e355e8c240e6e5681\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" contenteditable=\"false\" class=\"lake-card-margin-top lake-card-margin-bottom\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/png/670787/1606307862260-d80448a4-2aca-478f-bd21-10bfbe1649fe.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"递归.png\" title=\"递归.png\" data-height=\"310px\" style=\"visibility: visible; width: 298px;\"></span></p></td></tr></tbody></table></div><p data-lake-id=\"81079949aa79cecf5e810e53163e706b\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">实际应用中，<span style=\"background-color: transparent;\"><strong>caching 技术的存在使得迭代式 DNS 查询被广泛使用</strong></span>，caching 技术能把任何映射缓存在本地，比如 dns.poly.edu 从 RD/TLD/AD 得到的映射结果都会被保存在 local DNS server，此时内网中</p><ul data-lake-id=\"3e511e811353490cc50f3b1bf58e8b22\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"6770ab3a8e24916b3c668adc78b5ddbc\">一台host查询不同域名：第一次要转换a.edu完成后，第二次查询b.edu的IP地址，负责edu的TLD IP地址结果已经在本地，可直接从中查询下级权威server IP</li><li data-lake-id=\"33f9a9b8db836582005e85467c4262e4\">两台host查询相同域名：内网第一台host查询a.edu后本地server缓存其IP，第二台host查询a.edu，可直接返回结果</li></ul><div data-card-type=\"block\" data-lake-card=\"table\" id=\"xRL1T\" class=\"lake-card-margin\"><table class=\"lake-table lake-no-border\" style=\"width: 747px; outline: none; border-collapse: collapse; border: 1px solid transparent;\"><colgroup><col width=\"747\" span=\"1\"></colgroup><tbody><tr style=\"height: 33px;\"><td style=\"background-color: rgb(255, 232, 230); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"f23dc4bfb172e95e0d85a994aa657c38\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">通常在向 DNS 根服务器查询前会搜索以下缓存：</p><ul data-lake-id=\"3449546674c5c3902a40a6b5dc453eeb\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"d0f13f25892a96ee2e08e3a1b022fe25\"><strong>浏览器缓存：</strong>当用户通过浏览器访问某域名时，浏览器首先会在自己的缓存中查找是否有该域名对应的IP地址</li><li data-lake-id=\"f65d41cea633491ee6aa4b44641efad1\"><strong>系统缓存：</strong>当浏览器缓存中无对应 IP 则会自动检查用户计算机 Hosts 文件 DNS 缓存是否有该域名对应 IP</li><li data-lake-id=\"52975876720459ae95f7f1a916f8d63c\"><strong>路由器缓存：</strong>当浏览器及系统缓存中均无域名对应 IP 则进入路由器缓存检查，以上均为客服端的 DNS 缓存</li><li data-lake-id=\"aa3e630023874c096a7c86362176d7d9\"><strong>ISP（互联网服务提供商）DNS缓存：</strong>当在用户客服端查找不到域名对应IP地址，则将进入 ISP DNS 缓存中进行查询。比如你用的是电信的网络，则会进入电信的 DNS 缓存服务器中进行查找</li></ul></td></tr></tbody></table></div><div data-card-type=\"block\" data-lake-card=\"hr\"><hr style=\"background-color: rgb(232, 232, 232); border: 1px solid transparent; margin: 18px 0px;\"></div><h3 data-lake-id=\"5c84751bf296d4708a6935de634c0895\" id=\"GvS0E\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 20px; line-height: 28px;\">HTTP</h3><p data-lake-id=\"d05fe22211b64e9b677a883acd4f5bd2\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">参考链接：<a href=\"https://segmentfault.com/a/1190000013662126\" target=\"_blank\">从输入URL到页面加载的过程？如何由一道题完善自己的前端知识体系！</a></p><blockquote style=\"margin-top: 5px; margin-bottom: 5px; padding-left: 1em; margin-left: 0px; border-left: 3px solid rgb(238, 238, 238); opacity: 0.6;\"><p data-lake-id=\"aa5cf09f31b870255c42d5627f7c726e\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">用户和服务器之间的信息传递依赖http request和http response，前端页面的加载也是这样，因此http协议是前端学习中重要的部分</p></blockquote><h4 data-lake-id=\"37629090593388fb5ec4aef877c6fd80\" id=\"yYqSY\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">HTTP 报文结构</h4><p data-lake-id=\"c87628ec410d051df6b2d3db07437b1a\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">报文一般包括了：<strong>通用头部、请求/响应头部、请求/响应体</strong>，通用头部格式如下</p><div data-card-type=\"block\" data-lake-card=\"codeblock\" id=\"JIXQ0\" class=\"lake-card-margin\" data-language=\"plain\"><div class=\"lake-codeblock-content\" style=\"border: 1px solid rgb(232, 232, 232); max-width: 750px; color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: rgb(249, 249, 249);\"><div class=\"CodeMirror-sizer\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 16px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><pre class=\"cm-s-default\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">Request Url: 请求的web服务器地址\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">Request Method: 请求方式（Get、POST、OPTIONS、PUT、HEAD、DELETE、CONNECT、TRACE）\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">    * GET       获取资源\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">    * POST      传输资源\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">    * PUT       更新资源\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">    * DELETE    删除资源\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">    * HEAD      获得报文首部\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">Status Code: 请求的返回状态码，如200代表成功\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">Remote Address: 请求的远程服务器地址（会转为IP）\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">Referrer Policy: 来源页策略</span></span></pre></div></div></div><p data-lake-id=\"6488afa6d8e79f7321807eba4da8b418\" style=\"text-align: center; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" class=\"lake-card-margin-bottom\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/png/670787/1606357385113-1c7a89f8-6986-4a02-9e25-ca0a28fa6181.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"image.png\" title=\"image.png\" data-height=\"130px\" style=\"visibility: visible; width: 569px;\"></span></p><h4 data-lake-id=\"cdbce92344d0a98cb5ad2757810bb559\" id=\"roUM5\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">GET/POST 对比</h4><div data-card-type=\"block\" data-lake-card=\"table\" id=\"K8vF9\" class=\"lake-card-margin\"><table class=\"lake-table\" style=\"width: 747px; outline: none; border-collapse: collapse; border: 1px solid rgb(217, 217, 217);\"><colgroup><col width=\"71\" span=\"1\"><col width=\"329\" span=\"1\"><col width=\"347\" span=\"1\"></colgroup><tbody><tr style=\"height: 33px;\"><td style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"55491cc8ab2dcf4987e500bd9509e892\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong></strong></p></td><td style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"c855a1d43ad0902d52ada281e8af7330\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>GET</strong></p></td><td style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"223fe90743d7f8ce05972ae1ce4e036d_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>POST</strong></p></td></tr><tr style=\"height: 33px;\"><td style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"9c872cbdf30173634f523067cb192db3\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>语义</strong></p></td><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"d782407abdea5244a9e46020c825f4a9\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">从指定的资源请求数据</p></td><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"ae63b4a2d0cd473f8e906dbbfb37e59f\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">向指定的资源提交要被处理的数据</p></td></tr><tr style=\"height: 33px;\"><td style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"520f42f3293818f927861ebbd5b15da4_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>传输</strong></p></td><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"3441ddfa9f91f605795b9702be921159\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"36bc536e03f91b7e67faaa6ef68f7b03\">GET将请求的数据附在 URL 后通过地址栏传输</li><li data-lake-id=\"2e1cb7c6f595f5afc0effc4d4fa91bb4\">浏览器会把 header 和 data 一并发送出去，成功则服务器响应 200</li></ul></td><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"f43f6710fc735e4af10f62c0d5768cb7\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"c0e11d6521b3eea4e12b65a34ab09e2c\">POST 将参数放在 request body 通过报文传输</li><li data-lake-id=\"31822bd5fb3c2d194cf2584cdfbaae2f\">浏览器先发送 header，服务器响应 100 continue，浏览器再发送 data ，成功则服务器响应 200</li></ul></td></tr><tr style=\"height: 33px;\"><td style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"b8f9d15e41f12111138ab5500149f048\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>缓存</strong></p></td><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"8d3f20691fad6f241ef744744a138db2\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"d310e8f14246bb1ccd9a03a30370e705\">请求会被主动缓存</li><li data-lake-id=\"e3c58a7b2a684c6fc6ec9554124642f0\">可携带参数被存为书签</li></ul></td><td style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"bc719f8bdca2895ac4257beca77689bb\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"41694b1e16e42f221c5dedf56796b132\">不会被浏览器缓存</li><li data-lake-id=\"89af989a101877ae8d53f10195917b7a\">不可存为书签</li></ul></td></tr><tr style=\"height: 33px;\"><td colspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>后退</strong></p><p data-lake-id=\"d581b3a4f2b930f98755390ba84568d7\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>刷新</strong></p></td><td colspan=\"1\" style=\"vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">无害</p></td><td colspan=\"1\" style=\"vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"002c6c0ef5638c49b337e1ad501a4494\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">数据会被重新提交</p></td></tr><tr style=\"height: 33px;\"><td colspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>长度</strong></p></td><td colspan=\"1\" style=\"vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">受制于 URL 长度，取决于浏览器，Chrome 可存储 2M</p></td><td colspan=\"1\" style=\"vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">无限制</p></td></tr><tr style=\"height: 33px;\"><td style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"fc519a378077f52e7667308dddf8e97c\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>选择</strong></p></td><td rowspan=\"1\" colspan=\"2\" style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"1dbaf79fffc0ff98a19498a8aa96fdbc\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"f849c276a5287f3f2c99406fe3bd2268\">GET方法是安全、幂等（执行N次结果一样）、可缓存的（除非有 Cache-ControlHeader的约束），GET 方法的报文主体没有任何语义</li><li data-lake-id=\"6bc8d1ac8dbc3f4d26663d0774a767ed\">POST是根据请求 payload（报文主体）对指定的资源做出处理，具体的处理方式视资源类型而不同。POST 不安全，不幂等，（大部分实现）不可缓存</li></ul><p data-lake-id=\"126a6dde37c7c5f8bb5fe933c0971841\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">会产生副作用的请求（增删更新数据）应该使用 POST，对于无副作用的请求可使用 GET</p></td></tr></tbody></table></div><h4 data-lake-id=\"447ff3a32f62add43d549a6b3a4e8d13\" id=\"jVHSF\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">HTTP 头部</h4><ul data-lake-id=\"c10f703cc1037c664847495697e88439\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"979d83dcc5e88bf45dadeeceab551b02\"><a href=\"https://developer.mozilla.org/zh-CN/docs/Glossary/%E9%80%9A%E7%94%A8%E9%A6%96%E9%83%A8\" target=\"_blank\">General headers</a>:&nbsp;同时适用于请求和响应消息，但与最终消息主体中传输的数据无关的消息头</li><li data-lake-id=\"45d8b42952e85de862ee08d264f91998\"><a href=\"https://developer.mozilla.org/zh-CN/docs/Glossary/%E8%AF%B7%E6%B1%82%E5%A4%B4\" target=\"_blank\">Request headers</a>: 包含更多有关要获取的资源或客户端本身信息的消息头</li><li data-lake-id=\"60ab44e5703f54cc077ea6c9011abc69\"><a href=\"https://developer.mozilla.org/zh-CN/docs/Glossary/Response_header\" target=\"_blank\">Response headers</a>: 包含有关响应的补充信息，如其位置或服务器本身（名称和版本等）的消息头</li><li data-lake-id=\"c68195065a2806a0a46741371288db82\"><a href=\"https://developer.mozilla.org/zh-CN/docs/Glossary/Entity_header\" target=\"_blank\">Entity headers</a>:&nbsp;包含有关实体主体的更多信息，比如主体长度(Content-Length)度或其 MIME 类型，<span>实体头部通常为 </span>​<code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\"><span>Content-XXX</span></code><span> </span>​<span>，用于描述请求或响应消息体，实体头部可以在请求或响应头中出现，此时分别描述请求或响应体的属性</span></li></ul><p data-lake-id=\"cf7ae5fc273775c98ce48790f38798ef\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">常见 Header如下，完整见 <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers\" target=\"_blank\">MDN：Headers</a></p><ul data-lake-id=\"eb25bf318ca33720235dcce717c646b3\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"c4fa7a5e2883c43725f50ac32132aebd\"><strong>通用头部：</strong></li></ul><p data-lake-id=\"30860a6d8e61007cd5d62382b9747677\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">Cache-Control</code>：传递客户端希望的缓存控制方式和响应内容实际缓存控制方式</p><p data-lake-id=\"7cb8e249c3778efeff1e3d40b2592003\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">Connection</code>：<span>请求和响应双方的</span>连接方式</p><ul data-lake-id=\"09f6415c523d1dbaad6e7529255b9e8f\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"feb641726ecfbdb34e66aff01c6d28d2\"><strong>请求头：</strong></li></ul><p data-lake-id=\"410a72e96177aaba04eb8c904c127386\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">Accept</code>：设置接受的内容类型</p><p data-lake-id=\"c47832d5a04c159c449b8042b3fa6829\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">If-Modified-Since</code>：客户端请求资源上次接收的 Last-Modified</p><p data-lake-id=\"46ee7575d2122f5de840ea26b27eec34\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">If-None-Match</code>：客户端<span>请求资源上次接收的 ETag</span></p><p data-lake-id=\"b6d66a80bce47189851ab4baf5d52e71\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">Host</code>：指明了请求将要发送到的服务器主机名和端口号</p><p data-lake-id=\"da395027342fa8937f4f0d418bdd55bf\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">Cookie</code>：其中含有先前由服务器通过 Set-Cookie &nbsp;首部投放并存储到客户端的 cookies</p><ul data-lake-id=\"523d301b01ea1468dc8e4217fbea5806\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"734f22d394793c0b886211b3e45f3fa7\"><strong><span>响应头：</span></strong></li></ul><p data-lake-id=\"ecf23288aa09983c892b89fb3d0d4698\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\"><span>Expires</span></code><span>：响应内容的过期时间</span></p><p data-lake-id=\"51362a1291d1db24f9e77c7f15546cc0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">Last-Modified</code>：响应内容最近的修改时间</p><p data-lake-id=\"abcea74874d484f009bff0ebd66b8638\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">ETag</code>：<span>响应内容最新的 ETag</span></p><p data-lake-id=\"204fb15737964b945c2d5e13c704707c\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">Set-Cookie</code>：被用来由服务器端向客户端发送 cookie</p><p data-lake-id=\"9c886a8c885443d01821652449a3e7dc\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">Access-Control-Allow-Origin</code>：指定该响应内容是否被允许与给定的 origin 共享</p><p data-lake-id=\"ef54eb07836c65db74c4ceb7368331f2\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">Access-Control-Allow-Credentials</code>：是否将响应内容暴露给页面（要允许服务端设置 cookies，需开启）</p><h4 data-lake-id=\"61ee9b4b101099f99ed80d7afea889ca\" id=\"ImMSC\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">HTTP 状态码</h4><div data-card-type=\"block\" data-lake-card=\"codeblock\" id=\"se75J\" class=\"lake-card-margin\" data-language=\"plain\"><div class=\"lake-codeblock-content\" style=\"border: 1px solid rgb(232, 232, 232); max-width: 750px; color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: rgb(249, 249, 249);\"><div class=\"CodeMirror-sizer\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 16px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><pre class=\"cm-s-default\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">* 1xx：指示信息-表示请求已接收，继续处理\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">* 2xx：成功-表示请求已被成功接收\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">* 3xx：重定向-要完成请求必须进行更进一步的操作(304非重定向)\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">* 4xx：客户端错误-请求有语法错误或请求无法实现\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">* 5xx：服务器错误-服务器未能实现合法的请求\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">* 200 OK：客户端请求成功\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">* 206 Partial Content：请求已成功，并且主体包含所请求的数据区间，区间由请求Range决定\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">* 301 Moved Permanently：所请求的页面已经转移至新的url\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">* 302 Found：所请求的页面已经临时转移至新的url\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">* 304 Not Modified：客户端有缓存并发出了一个条件性的请求，服务器告诉客户，原来缓冲的文档还可以继续使用\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">* 400 Bad Request：客户端请求有语法错误，不能被服务器所理解\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">* 401 Unatuthorized：请求未经授权，这个状态代码必须和WWW-Authenticate报头域一起使用\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">* 403 Forbidden：对被请求页面的访问被禁止\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">* 404 Not Found：请求资源不存在\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">* 500 Internal Server Error：服务器发生不可预期的错误原来缓冲的文档还可以继续使用\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">* 503 Server Unavailable：请求未完成，服务器临时过载或宕机，一段时间后可能恢复正常</span></span></pre></div></div></div><h4 data-lake-id=\"89dbee58740cfb69748c3415fa2ce653\" id=\"ryCDk\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">长连接</h4><ul data-lake-id=\"9abb7a97e69fea9cb0758127abc39d9d\" start=\"1\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"ed37968b6e43eeedc7212f215b0c5a14\">http1.0 中默认使用短连接，浏览器每进行一次 http 操作，就建立一次 tcp 连接，任务结束就中断连接；使用长连接需要显式设置 <code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">Connection:keep-alive</code>，此时<strong><span style=\"background-color: transparent;\"><span>客户端和服务端之间用于传输 http 的 tcp 连接可在指定时间能保持，如果客户端再次请求该服务器服务器，会继续使用已经建立的连接</span></span></strong></li><li data-lake-id=\"ebba1b4b8caf914c8b8adc8faeb41a3a\">http1.1 起默认使用长连接，而无需显式设置头部</li></ul><h4 data-lake-id=\"0418353afb4e59a09d226314c7707053\" id=\"QHY5v\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">管线化（pipeline）</h4><p data-lake-id=\"4f156876b20442231fc576ac5c319456\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">管线化 HTTP 请求时，无需等待之前的 response 返回，可一次性发出所有 request，近似为同一时间全部发出。</p><p data-lake-id=\"b561f3dd8814c3578d2b049148faadd0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>管线化机制通过持久连接完成，</span><strong><span>基于长连接</span></strong><span>，因此仅 HTTP/1.1 支持此技术</span></p><ul data-lake-id=\"22c99dec12879b1588be20df4d75f18a\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"589d4a65de4100f4160bf35790fc8680\">HTTP/1.1 要求服务器端支持管线化，但<strong>不要求对响应进行管线化处理</strong>，只是对于管线化的请求不失败即可</li><li data-lake-id=\"39e17dbe8277eaf0d2cd49ee067491b2\">实际的服务器对管线化的支持并不好，因为服务端仍须按序串行化响应，否则客户端会收到乱序响应，因此现代浏览器默认并未开启管线化支持（HTTP 2.0 中的数据流真正支持了多路复用）</li></ul><h4 data-lake-id=\"7386db44d8cc9c556214f6780354c631\" id=\"xyZQl\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">HTTPS</h4><p data-lake-id=\"af81477cf40c48e0251b2f90f9406556\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">参考链接：<a href=\"http://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html\" target=\"_blank\">阮一峰-图解<span>SSL/TLS</span></a></p><p data-lake-id=\"0c121c7b8ee053479129d48c246e19ba\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">https 就是安全版本的 http，譬如一些支付等操作基本都是基于 https 的，因为 http 请求的安全系数太低</p><ul data-lake-id=\"2b3afaa006cd39254f451e47f7b6a9a4\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"e3b25aae57d9779a8b7488f7fe2c4c11\">https 在请求前会在客户端与服务器建立 ssl 链接，确保接下来的通信都是加密的</li><li data-lake-id=\"b62006602f2d31b824f4cbbb54961215\">要将网站升级成 https，需要后端支持，申请 ssl 证书等</li><li data-lake-id=\"d9ec0990b2be0e287a6124587c5d8376\"><span>因为需要建立安全链接以及加密，</span>https 的开销比 http 要大，所以一般来说 http2.0 配合 https 的体验更佳</li></ul><p data-lake-id=\"074e7f2b59029aedbdaa2f0d916f3a98\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">一般来说，主要关注的就是 <strong>SSL/TLS 的握手流程，共5步</strong></p><div data-card-type=\"block\" data-lake-card=\"codeblock\" id=\"a0Jh9\" class=\"lake-card-margin\" data-language=\"plain\"><div class=\"lake-codeblock-content\" style=\"border: 1px solid rgb(232, 232, 232); max-width: 750px; color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: rgb(249, 249, 249);\"><div class=\"CodeMirror-sizer\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 16px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><pre class=\"cm-s-default\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">爱丽丝给出加密通信协议版本号、一个客户端生成的随机数（Client random），以及客户端支持的加密方法。\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">鲍勃确认双方使用的加密方法，并给出数字证书、以及一个服务器生成的随机数（Server random）。\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">爱丽丝确认数字证书有效，然后生成一个新的随机数（Pre-master secret），并使用数字证书中的公钥，加密这个随机数，发给鲍勃。\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">鲍勃使用自己的私钥，获取爱丽丝发来的随机数（即Pre-master secret）。\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">爱丽丝和鲍勃根据约定的加密方法，使用前面的三个随机数，生成\"对话密钥\"（session key），用来加密接下来的整个对话过程。</span></span></pre></div></div></div><p data-lake-id=\"5f6cb664fb8c8848470d211c9d662f83\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">要注意的三点：</p><ul data-lake-id=\"4739a99df37a5f9345f6234c46a45005\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"2c15214076e3147a8f2362935a643423\">生成<span>对话</span>密钥一共需要<strong>三个随机数，两个明文，一个加密</strong></li><li data-lake-id=\"1700475e5f155a65fb30ab620dee7d88\">握手之后的对话使用 \"session key\" 加密<strong>（对称加密）</strong>，服务器的公钥和私钥只用于加密和解密 \"Pre-master secret\"<strong>（非对称加密）</strong></li><li data-lake-id=\"bbd9f6286a45ae07facec41d1807acce\">证书合法性校验：（参考：<a href=\"https://www.zhihu.com/question/37370216/answer/71767878\" target=\"_blank\">浏览器如何验证HTTPS证书的合法性？ - 知乎</a>）</li></ul><ol data-lake-id=\"99ca3281661833d0d6fc45f67478efef\" lake-indent=\"1\" style=\"list-style-type: none; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><ol data-lake-id=\"21d4f0007025807a93962a1a6de6b773\" lake-indent=\"0\" style=\"list-style-type: lower-alpha; margin: 0px; padding-left: 23px;\"><li data-lake-id=\"2d96495327e270bdabc42c7bef506475\"><span>对比系统时间判断是否处于有效期内</span></li><li data-lake-id=\"1175471bbd608f77b12ccfeda4ed6c26\"><strong>查看证书是否吊销：</strong>CA 会定期发布证书吊销列表 CRL，浏览器查询 CRL，判断当前证书是否被吊销</li><li data-lake-id=\"72b8d8e2d7f6e6969676ab472e31f447\"><strong>判断是否由上级 CA 签发：</strong>浏览器内部通常会有根证书，其中包含 CA 机构颁发证书的公钥，当用户收到服务端证书后，根据上面写的 CA 签发机构，在浏览器内置的根证书里找到对应的公钥，用此公钥解开数字签名，得到摘要（digest，证书内容的 hash 值），据此验证证书的合法性</li></ol></ol><div data-card-type=\"block\" data-lake-card=\"hr\"><hr style=\"background-color: rgb(232, 232, 232); border: 1px solid transparent; margin: 18px 0px;\"></div><h3 data-lake-id=\"b23187f24d7cc27320aab6b0dc45d925\" id=\"EPV73\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 20px; line-height: 28px;\">HTTP 1.0/1.1/2.0</h3><p data-lake-id=\"b362aff9a2251fef37645c62ef2a906f\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">参考链接：</p><p data-lake-id=\"d973f7a21599722180312a3bd952c1de\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><a href=\"https://www.zhihu.com/question/34074946/answer/75364178\" target=\"_blank\">HTTP/2 相比 1.0 有哪些重大改进？ - Leo Zhang的回答 - 知乎</a></p><p data-lake-id=\"453d194827381d0fe0c8a39e2a131470\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><a href=\"https://developers.google.com/web/fundamentals/performance/http2/#%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%88%86%E5%B8%A7%E5%B1%82\" target=\"_blank\">HTTP/2 简介</a></p><h4 data-lake-id=\"84edc7fdced29c0e12f443e79761d51b\" id=\"imKXc\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">1.0 → 1.1</h4><div data-card-type=\"block\" data-lake-card=\"table\" id=\"oYm86\" class=\"lake-card-margin\"><table class=\"lake-table\" style=\"width: 746px; outline: none; border-collapse: collapse; border: 1px solid rgb(217, 217, 217);\"><colgroup><col width=\"99\" span=\"1\"><col width=\"647\" span=\"1\"></colgroup><tbody><tr style=\"height: 33px;\"><td rowspan=\"1\" colspan=\"1\" style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"d9369c77090821053a911aeb9ada4c66\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>长连接</strong></p></td><td rowspan=\"1\" colspan=\"1\" style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"ba6b575f378e77d7632fde448a15bbb1\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"36bd6bc5a97356ee2db88798c7e665e9\">HTTP1.0需使用 keep-alive 参数来告知服务器端要建立一个<a href=\"#ryCDk\">长连接</a></li><li data-lake-id=\"da6ab3dde3a965008d50aa1dbeb0f751\">HTTP1.1 默认支持长连接</li></ul></td></tr><tr style=\"height: 33px;\"><td rowspan=\"1\" colspan=\"1\" style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"bff5ae6a5928764168dba6bf0abbc239\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>节约带宽</strong></p><p data-lake-id=\"e6206a68070b3839dbfcb201e941e83c\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"></p></td><td rowspan=\"1\" colspan=\"1\" style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"75c188fcb39ac9b6cfaf66fdd1dd2654\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"b9a44bb4610a37d49e84ab37bf12c5bd\">HTTP1.1支持只发送 header 信息，如果服务器认为客户端有权限请求服务器，则返回100，否则返回401。客户端如果接受到100，才开始把请求 body 发送到服务器。</li><li data-lake-id=\"b6b2ea3066aa2a490afcd4c87de1f9ef\">另外 HTTP1.1 支持传送内容的一部分。这样当客户端已经有一部分的资源后，只需要跟服务器请求另外的部分资源即可。这是支持文件断点续传的基础，具体通过 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Range\" target=\"_blank\">Range</a> 实现</li></ul></td></tr><tr style=\"height: 33px;\"><td rowspan=\"1\" colspan=\"1\" style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"37cf969d050cfca23d8d926ef91d3e08\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>HOST</strong></p><p data-lake-id=\"614cea5564172b5a471a8c95c3fbe7a4\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"></p></td><td rowspan=\"1\" colspan=\"1\" style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"5a80916ce93a3e2da7716782366b15f8\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"cb3161246fca5d59f6298085f189ab2f\">HTTP1.0 中认为每台 server 绑定一个唯一的IP，因此请求消息中的 URL 并没有传递主机名（hostname）</li><li data-lake-id=\"bb0b3179859a8eb901d3762347a41e36\">但随着虚拟主机技术的发展，在一台物理服务器上可以存在多个虚拟主机，它们共享一个 IP 地址，HTTP1.1 的请求消息和响应消息都支持指定 Host 域</li></ul></td></tr><tr style=\"height: 33px;\"><td rowspan=\"1\" colspan=\"1\" style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><p data-lake-id=\"ec05fb18f31f397feaf8b63c2db13adc\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>缓存处理</strong></p><p data-lake-id=\"1b0202be9f34eb4566d697f96c5ba313\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"></p></td><td rowspan=\"1\" colspan=\"1\" style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><ul data-lake-id=\"14796c4021b5d3adfd23929498005930\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"1448eae9671d112eeb6a6cdf41ab3f86\">HTTP1.0 中主要使用 header 里的 Expires 来做为缓存判断的标准</li><li data-lake-id=\"8b292f3265cce20fdc887ed53df4125c\">HTTP1.1 则引入了更多的缓存控制策略，例如 Cache Control、Entity tag、 If-Match 等更多可供选择的缓存头来控制<a href=\"https://www.yuque.com/gesidalijiashidai/fgeemd/oicqaq#14hq6\" target=\"_blank\">缓存策略</a></li></ul></td></tr></tbody></table></div><h4 data-lake-id=\"97acd98d7c9343347b673ac83bf6c13e\" id=\"LDSmS\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\"><span>1.1 → 2.0</span></h4><p data-lake-id=\"5876053d697f0e3d3c6640fa140c6908\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">相比 HTTP/1.x，HTTP/2 在底层传输做了很大的改动和优化</p><div data-card-type=\"block\" data-lake-card=\"table\" id=\"bxIR6\" class=\"lake-card-margin\"><table class=\"lake-table\" style=\"width: 748px; outline: none; border-collapse: collapse; border: 1px solid rgb(217, 217, 217);\"><colgroup><col width=\"98\" span=\"1\"><col width=\"650\" span=\"1\"></colgroup><tbody><tr style=\"height: 33px;\"><td rowspan=\"1\" colspan=\"1\" style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><strong><span style=\"color: #404040;\">传输格式</span></strong></td><td rowspan=\"1\" colspan=\"1\" style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><span style=\"color: #404040;\">HTTP/2 采用二进制格式传输数据，而非 HTTP/1.x 的文本格式。二进制格式在协议的解析和优化扩展上带来更多的优势和可能</span></td></tr><tr style=\"height: 33px;\"><td rowspan=\"1\" colspan=\"1\" style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><strong><span style=\"color: #404040;\">数据压缩</span></strong></td><td rowspan=\"1\" colspan=\"1\" style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><span style=\"color: #404040;\">HTTP/2 对消息头采用 HPACK 压缩传输，能够节省消息头占用的网络的流量。而 HTTP/1.x 每次请求，都会携带大量冗余头信息，浪费了很多带宽资源。</span></td></tr><tr style=\"height: 33px;\"><td rowspan=\"1\" colspan=\"1\" style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><strong><span style=\"color: #404040;\">多路复用</span></strong></td><td rowspan=\"1\" colspan=\"1\" style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><span style=\"color: #404040;\">多路复用，直白的说就是所有的请求都是通过一个TCP 连接并发完成。HTTP/1.x 虽然通过 pipeline 也能并发请求，但是多个请求之间的响应会被阻塞的，所以 pipeline 至今也没有被普及应用，而 HTTP/2 做到了真正的并发请求。同时，流还支持优先级和流量控制</span></td></tr><tr style=\"height: 33px;\"><td rowspan=\"1\" colspan=\"1\" style=\"text-align: center; min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><strong><span style=\"color: #404040;\">服务端推送</span></strong></td><td rowspan=\"1\" colspan=\"1\" style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid rgb(217, 217, 217); padding: 4px 8px; cursor: default;\"><span style=\"color: #404040;\">Server Push：服务端能够更快的把资源推送给客户端。例如服务端可以主动把 JS 和 CSS 文件推送给客户端，而不需要客户端解析 HTML 再发送这些请求。当客户端需要的时候，它已经在客户端了</span></td></tr></tbody></table></div><p data-lake-id=\"1061244ba174456dd6eb996213741fae\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>HTTP/2 扩展：多路复用（以下内容来自：</strong><a href=\"https://segmentfault.com/a/1190000011172823\" target=\"_blank\"><strong>浅析HTTP/2的多路复用</strong></a><strong>）</strong></p><p data-lake-id=\"fedbe3ee944adc7836b3c4ba2b942a2e\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">HTTP 2.0 引入了一个二进制分帧层去封装服务端与客户端之间的 HTTP 消息</p><p data-lake-id=\"25cc37011a60894c86b2eb7750acd884\" style=\"text-align: center; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" class=\"lake-card-margin-top lake-card-margin-bottom\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2021/png/670787/1613470145822-6d156b61-3a07-4486-89ac-13d393aa0f91.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"image.png\" title=\"image.png\" data-height=\"278px\" style=\"visibility: visible; width: 551px;\"></span></p><ul data-lake-id=\"0cad1ec47adac09ec5d5afbabf7e238f\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"da92885ea34f970ebb99705aafb6bd23\">所有通信都在一个 TCP 连接上完成，此连接可以承载任意数量的双向数据流。</li><li data-lake-id=\"0961cd38c6e2216e269e409a0ed4e7dc\">每个数据流都有一个唯一的标识符和可选的优先级信息，用于承载双向消息。</li><li data-lake-id=\"5217ef6c047ad0da22f10f1041d97758\">每条消息都是一条逻辑 HTTP 消息（例如请求或响应），包含一个或多个帧。</li><li data-lake-id=\"2925e64d38c6e6a9502d407328c71cb0\">帧是最小的通信单位，承载着特定类型的数据，例如 HTTP 标头、消息负载等等。 来自不同数据流的帧可以交错发送，然后再根据每个帧头的数据流标识符重新组装</li></ul><p data-lake-id=\"13331cbf8c434319756a1f4d531867b3\" style=\"text-align: center; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" class=\"lake-card-margin-top lake-card-margin-bottom\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2021/png/670787/1613470122487-847a0bac-2578-4b8f-a128-477d9a93d2d0.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"image.png\" title=\"image.png\" data-height=\"410px\" style=\"visibility: visible; width: 512px;\"></span></p><div data-card-type=\"block\" data-lake-card=\"table\" id=\"0Klsg\" class=\"lake-card-margin\"><table class=\"lake-table lake-no-border\" style=\"width: 745px; outline: none; border-collapse: collapse; border: 1px solid transparent;\"><colgroup><col width=\"745\" span=\"1\"></colgroup><tbody><tr style=\"height: 33px;\"><td rowspan=\"1\" colspan=\"1\" style=\"min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"2f9c42624943d0d24e131fa87ed2f687\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">HTTP1.1的长连接没能解决两个效率问题：</p><ul data-lake-id=\"f2cc94aaf3595b0e0cdb40bc67bbf50c\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"7e1d9fb3132f2ba2454d61d5264213f1\"><strong><span>串行传输：</span></strong>当请求a文件时，b文件只能等待，等待a连接到服务器、服务器处理文件、服务器返回文件，这三个步骤。我们假设这三步用时都是1秒，那么a文件用时为3秒，b文件传输完成用时为6秒，依此类推</li><li data-lake-id=\"51e35ef3efb18ca40cac0a7954fbdda4\"><strong>连接数过多：</strong>我们假设Apache设置了最大并发数为300，因为浏览器限制，浏览器发起的<strong>最大请求数为6</strong>，也就是服务器能承载的最高并发为50，当第51个人访问时，就需要等待前面某个请求处理完成</li></ul></td></tr><tr style=\"height: 33px;\"><td colspan=\"1\" style=\"text-align: center; vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" contenteditable=\"false\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/png/670787/1607178153305-60fd6ddc-bd50-4dd2-8c5b-172b6479892d.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"290582306-59b7a2f997310_articlex(已去底).png\" title=\"290582306-59b7a2f997310_articlex(已去底).png\" data-height=\"123px\" style=\"visibility: visible; width: 456px;\"></span><span data-card-type=\"inline\" data-lake-card=\"image\" contenteditable=\"false\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/png/670787/1607178162291-000fcd3b-d730-45c3-a897-d78a42b29027.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"1362734992-59b7a50b08bf4_articlex(已去底).png\" title=\"1362734992-59b7a50b08bf4_articlex(已去底).png\" data-height=\"224px\" style=\"visibility: visible; width: 336px;\"></span></p></td></tr><tr style=\"height: 33px;\"><td colspan=\"1\" rowspan=\"1\" style=\"vertical-align: top; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64); min-width: 90px; font-size: 14px; white-space: normal; overflow-wrap: break-word; border: 1px solid transparent; padding: 4px 8px; cursor: default;\"><p data-lake-id=\"58745b35beed298bf7d6f9a47e4d12ee\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">HTTP/2的多路复用就是为了解决上述的两个性能问题：</p><ul data-lake-id=\"8aa7706d134bce5f71ee45ce36c2a1b5\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"4ad92ac0b6abdb73728944ed8d3f5ef3\"><strong>解决</strong><strong><span>串行传输</span></strong>：HTTP1.1中 request/response 都是基本于文本的，这样就会引发一个问题：所有的数据必须按顺序传输，比如需要传输：hello world，只能从 h 到 d 一个一个的传输，不能并行传输，因为<span style=\"color: #F5222D;\"><strong>接收端并不知道这些字符的顺序，所以并行传输在 HTTP1.1 是不能实现的</strong></span>。HTTP/2 把每一个资源的传输叫做流 Stream，每个流都有它的唯一编号 stream id，一个流又可能被拆成多个帧 frame，每个帧按照顺序发送，TCP 报文的编号可以保证后发送的帧的顺序比先发送的大，浏览器收到数据之后，就可以按照stream id 对数据进行合并，而不会出现合并后数据错乱的情况</li><li data-lake-id=\"677d8c08405c7be5af8c5adb16cf3346\"><strong>解决</strong><strong><span>连接数过多</span></strong>：HTTP/2 对同一域名下所有请求都是基于流，也就是说<span style=\"color: #F5222D;\"><strong>同一域名不管访问多少文件，也只建立一路连接</strong></span>。同样Apache的最大连接数为300，因为有了这个新特性，最大的并发就可以提升到300，比原来提升了6倍！</li></ul></td></tr></tbody></table></div><p data-lake-id=\"ba4c32c5a739e31aa65edacf63151b53\" style=\"text-align: left; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><strong>HTTP/2扩展：HPACK压缩</strong></p><p data-lake-id=\"32496a6af91c839f6e868e6fa53d066b\" style=\"text-align: left; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">参考链接：<a href=\"https://zhuanlan.zhihu.com/p/34662800\" target=\"_blank\">从Chrome源码看HTTP/2 - 李银城的文章 - 知乎</a></p><p data-lake-id=\"a996ccf857f611c7c33540915aeccc20\" style=\"text-align: center; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" class=\"lake-card-margin-top lake-card-margin-bottom\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2020/png/670787/1607179167062-04d8d07e-e5ef-42e5-b132-cc07e5efb432.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"image\" title=\"image\" data-height=\"302px\" style=\"visibility: visible; width: 510px;\"></span></p><p data-lake-id=\"8a92ef02dde53ee2b6675adf502adc4e\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">用通俗的语言解释，HTTP2 中会将头部字段视为键值对，因为头部的更替不是很频繁，可以在 Server 端缓存协定好的键值对与索引，之后<span>在连接有效的时间里面，</span>请求方只需要在请求中的头部位置使用索引即可</p><p data-lake-id=\"f6599ac38e55674826c100882914f116\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">为了server 和 client 同步, 两边都需要保留一份 Header list， 并且每次发送请求时都会检查更新</p><ul data-lake-id=\"e09f5502ebb14c80264934e8efabee8a\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li data-lake-id=\"b50ca69859e2e0627f28c807f7878f64\">维护一份相同的<a href=\"https://tools.ietf.org/html/rfc7541#appendix-A\" target=\"_blank\">静态表（Static Table）</a>，包含常见的头部名称，以及特别常见的头部名称与值的组合</li><li data-lake-id=\"66f8094be5fe40fd86e26dffc561a4c5\">维护一份相同的动态表（Dynamic Table），可以动态地添加内容；</li><li data-lake-id=\"e49ca91d91d791b44fb5a47164d69ce4\">将传输的 Header Value 进行哈夫曼编码（Huffman Coding）；</li></ul><p data-lake-id=\"7548c473d8a4e39ab5a18953c77c4072\" style=\"text-align: center; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" class=\"lake-card-margin-top lake-card-margin-bottom\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2021/png/670787/1613463377291-9b80e7d2-87ff-4c7e-a5c7-1a83c983f7e9.png\" data-raw-src=\"\" class=\"image lake-drag-image\" alt=\"image.png\" title=\"image.png\" data-height=\"247px\" style=\"visibility: visible; width: 283px;\"></span></p><p data-lake-id=\"780fe84611eba51701922639bc66ddb5\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p></div>",
  "slug": 16514513,
  "title": "计算机网络"
}